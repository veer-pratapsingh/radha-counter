{"ast":null,"code":"import _objectWithoutPropertiesLoose from\"@babel/runtime/helpers/objectWithoutPropertiesLoose\";const _excluded=[\"theme\",\"sections\",\"scrollToNextEvent\",\"avoidDateUpdates\",\"onScroll\",\"renderSectionHeader\",\"sectionStyle\",\"dayFormatter\",\"dayFormat\",\"useMoment\",\"markToday\",\"infiniteListProps\",\"renderItem\",\"onEndReached\",\"onEndReachedThreshold\"];import PropTypes from'prop-types';import isUndefined from'lodash/isUndefined';import debounce from'lodash/debounce';import InfiniteList from'../../infinite-list';import XDate from'xdate';import React,{useCallback,useContext,useEffect,useMemo,useRef,useState}from'react';import{useDidUpdate}from'../../hooks';import{getMoment}from'../../momentResolver';import{isGTE,isToday}from'../../dateutils';import{getDefaultLocale}from'../../services';import{UpdateSources,todayString}from'../commons';import styleConstructor from'../style';import Context from'../Context';import constants from'../../commons/constants';import{parseDate}from'../../interface';import{LayoutProvider}from'recyclerlistview/dist/reactnative/core/dependencies/LayoutProvider';import{AgendaSectionHeader}from'./commons';import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const InfiniteAgendaList=_ref=>{let{theme,sections,scrollToNextEvent,avoidDateUpdates,onScroll,renderSectionHeader,sectionStyle,dayFormatter,dayFormat='dddd, MMM d',useMoment,markToday=true,infiniteListProps,renderItem,onEndReached,onEndReachedThreshold}=_ref,others=_objectWithoutPropertiesLoose(_ref,_excluded);const{date,updateSource,setDate}=useContext(Context);const style=useRef(styleConstructor(theme));const list=useRef();const _topSection=useRef(sections[0]?.title);const didScroll=useRef(false);const sectionScroll=useRef(false);const[data,setData]=useState([]);const dataRef=useRef(data);useEffect(()=>{const items=sections.reduce((acc,cur)=>{return[...acc,{title:cur.title,isTitle:true},...cur.data];},[]);setData(items);dataRef.current=items;if(date!==_topSection.current){setTimeout(()=>{scrollToSection(date);},500);}},[sections]);useDidUpdate(()=>{if(updateSource!==UpdateSources.LIST_DRAG&&updateSource!==UpdateSources.CALENDAR_INIT){scrollToSection(date);}},[date]);const getSectionIndex=date=>{let dataIndex=0;for(let i=0;i<sections.length;i++){if(sections[i].title===date){return dataIndex;}dataIndex+=sections[i].data.length+1;}};const getNextSectionIndex=date=>{const cur=new XDate(date);let dataIndex=0;for(let i=0;i<sections.length;i++){const titleDate=parseDate(sections[i].title);if(isGTE(titleDate,cur)){return dataIndex;}dataIndex+=sections[i].data.length+1;}};const getSectionTitle=useCallback(title=>{if(!title)return;let sectionTitle=title;if(dayFormatter){sectionTitle=dayFormatter(title);}else if(dayFormat){if(useMoment){const moment=getMoment();sectionTitle=moment(title).format(dayFormat);}else{sectionTitle=new XDate(title).toString(dayFormat);}}if(markToday){const string=getDefaultLocale().today||todayString;const today=isToday(title);sectionTitle=today?`${string}, ${sectionTitle}`:sectionTitle;}return sectionTitle;},[]);const scrollToSection=useCallback(debounce(requestedDate=>{const sectionIndex=scrollToNextEvent?getNextSectionIndex(requestedDate):getSectionIndex(requestedDate);if(isUndefined(sectionIndex)){return;}if(list?.current&&sectionIndex!==undefined){sectionScroll.current=true;if(requestedDate!==_topSection.current){_topSection.current=sections[findItemTitleIndex(sectionIndex)]?.title;list.current?.scrollToIndex(sectionIndex,true);}setTimeout(()=>{_onMomentumScrollEnd();},500);}},1000,{leading:true,trailing:true}),[sections]);const layoutProvider=useMemo(()=>new LayoutProvider(index=>dataRef.current[index]?.isTitle?'title':dataRef.current[index]?.itemCustomHeightType??'page',(type,dim)=>{dim.width=constants.screenWidth;switch(type){case'title':dim.height=infiniteListProps?.titleHeight??60;break;case'page':dim.height=infiniteListProps?.itemHeight??80;break;default:dim.height=infiniteListProps?.itemHeightByType?.[type]??infiniteListProps?.itemHeight??80;}}),[]);const _onScroll=useCallback(rawEvent=>{if(!didScroll.current){didScroll.current=true;scrollToSection.cancel();}const event={nativeEvent:{contentOffset:rawEvent.nativeEvent.contentOffset,layoutMeasurement:rawEvent.nativeEvent.layoutMeasurement,contentSize:rawEvent.nativeEvent.contentSize}};onScroll?.(event);},[onScroll]);const _onVisibleIndicesChanged=useCallback(all=>{if(all&&all.length&&!sectionScroll.current){const topItemIndex=all[0];const topSection=data[findItemTitleIndex(topItemIndex)];if(topSection&&topSection!==_topSection.current){_topSection.current=topSection.title;if(didScroll.current&&!avoidDateUpdates){setDate?.(topSection.title,UpdateSources.LIST_DRAG);}}}},[avoidDateUpdates,setDate,data]);const findItemTitleIndex=useCallback(itemIndex=>{let titleIndex=itemIndex;while(titleIndex>0&&!data[titleIndex]?.isTitle){titleIndex--;}return titleIndex;},[data]);const _onMomentumScrollEnd=useCallback(()=>{sectionScroll.current=false;},[]);const headerTextStyle=useMemo(()=>[style.current.sectionText,sectionStyle],[sectionStyle]);const _renderSectionHeader=useCallback(info=>{const title=info?.section?.title;if(renderSectionHeader){return renderSectionHeader(title);}const headerTitle=getSectionTitle(title);return _jsx(AgendaSectionHeader,{title:headerTitle,style:headerTextStyle});},[headerTextStyle]);const _renderItem=useCallback((_type,item)=>{if(item?.isTitle){return _renderSectionHeader({section:item});}if(renderItem){return renderItem({item});}return _jsx(_Fragment,{});},[renderItem]);const _onEndReached=useCallback(()=>{if(onEndReached){onEndReached({distanceFromEnd:0});}},[onEndReached]);return _jsx(InfiniteList,{ref:list,renderItem:_renderItem,data:data,style:style.current.container,layoutProvider:layoutProvider,onScroll:_onScroll,onVisibleIndicesChanged:_onVisibleIndicesChanged,scrollViewProps:Object.assign({nestedScrollEnabled:true},others,{onMomentumScrollEnd:_onMomentumScrollEnd}),onEndReached:_onEndReached,onEndReachedThreshold:onEndReachedThreshold,disableScrollOnDataChange:true,renderFooter:infiniteListProps?.renderFooter});};export default InfiniteAgendaList;InfiniteAgendaList.displayName='InfiniteAgendaList';InfiniteAgendaList.propTypes={dayFormat:PropTypes.string,dayFormatter:PropTypes.func,useMoment:PropTypes.bool,markToday:PropTypes.bool,sectionStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.number,PropTypes.array]),avoidDateUpdates:PropTypes.bool};","map":{"version":3,"names":["PropTypes","isUndefined","debounce","InfiniteList","XDate","React","useCallback","useContext","useEffect","useMemo","useRef","useState","useDidUpdate","getMoment","isGTE","isToday","getDefaultLocale","UpdateSources","todayString","styleConstructor","Context","constants","parseDate","LayoutProvider","AgendaSectionHeader","jsx","_jsx","Fragment","_Fragment","InfiniteAgendaList","_ref","theme","sections","scrollToNextEvent","avoidDateUpdates","onScroll","renderSectionHeader","sectionStyle","dayFormatter","dayFormat","useMoment","markToday","infiniteListProps","renderItem","onEndReached","onEndReachedThreshold","others","_objectWithoutPropertiesLoose","_excluded","date","updateSource","setDate","style","list","_topSection","title","didScroll","sectionScroll","data","setData","dataRef","items","reduce","acc","cur","isTitle","current","setTimeout","scrollToSection","LIST_DRAG","CALENDAR_INIT","getSectionIndex","dataIndex","i","length","getNextSectionIndex","titleDate","getSectionTitle","sectionTitle","moment","format","toString","string","today","requestedDate","sectionIndex","undefined","findItemTitleIndex","scrollToIndex","_onMomentumScrollEnd","leading","trailing","layoutProvider","index","itemCustomHeightType","type","dim","width","screenWidth","height","titleHeight","itemHeight","itemHeightByType","_onScroll","rawEvent","cancel","event","nativeEvent","contentOffset","layoutMeasurement","contentSize","_onVisibleIndicesChanged","all","topItemIndex","topSection","itemIndex","titleIndex","headerTextStyle","sectionText","_renderSectionHeader","info","section","headerTitle","_renderItem","_type","item","_onEndReached","distanceFromEnd","ref","container","onVisibleIndicesChanged","scrollViewProps","Object","assign","nestedScrollEnabled","onMomentumScrollEnd","disableScrollOnDataChange","renderFooter","displayName","propTypes","func","bool","oneOfType","object","number","array"],"sources":["C:/Users/chaud/radha-counter/node_modules/react-native-calendars/src/expandableCalendar/AgendaList/infiniteAgendaList.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport isUndefined from 'lodash/isUndefined';\nimport debounce from 'lodash/debounce';\nimport InfiniteList from '../../infinite-list';\nimport XDate from 'xdate';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { useDidUpdate } from '../../hooks';\nimport { getMoment } from '../../momentResolver';\nimport { isGTE, isToday } from '../../dateutils';\nimport { getDefaultLocale } from '../../services';\nimport { UpdateSources, todayString } from '../commons';\nimport styleConstructor from '../style';\nimport Context from '../Context';\nimport constants from '../../commons/constants';\nimport { parseDate } from '../../interface';\nimport { LayoutProvider } from 'recyclerlistview/dist/reactnative/core/dependencies/LayoutProvider';\nimport { AgendaSectionHeader } from './commons';\n/**\n * @description: AgendaList component that use InfiniteList to improve performance\n * @note: Should be wrapped with 'CalendarProvider'\n * @extends: InfiniteList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst InfiniteAgendaList = ({ theme, sections, scrollToNextEvent, avoidDateUpdates, onScroll, renderSectionHeader, sectionStyle, dayFormatter, dayFormat = 'dddd, MMM d', useMoment, markToday = true, infiniteListProps, renderItem, onEndReached, onEndReachedThreshold, ...others }) => {\n    const { date, updateSource, setDate } = useContext(Context);\n    const style = useRef(styleConstructor(theme));\n    const list = useRef();\n    const _topSection = useRef(sections[0]?.title);\n    const didScroll = useRef(false);\n    const sectionScroll = useRef(false);\n    const [data, setData] = useState([]);\n    const dataRef = useRef(data);\n    useEffect(() => {\n        const items = sections.reduce((acc, cur) => {\n            return [...acc, { title: cur.title, isTitle: true }, ...cur.data];\n        }, []);\n        setData(items);\n        dataRef.current = items;\n        if (date !== _topSection.current) {\n            setTimeout(() => {\n                scrollToSection(date);\n            }, 500);\n        }\n    }, [sections]);\n    useDidUpdate(() => {\n        // NOTE: on first init data should set first section to the current date!!!\n        if (updateSource !== UpdateSources.LIST_DRAG && updateSource !== UpdateSources.CALENDAR_INIT) {\n            scrollToSection(date);\n        }\n    }, [date]);\n    const getSectionIndex = (date) => {\n        let dataIndex = 0;\n        for (let i = 0; i < sections.length; i++) {\n            if (sections[i].title === date) {\n                return dataIndex;\n            }\n            dataIndex += sections[i].data.length + 1;\n        }\n    };\n    const getNextSectionIndex = (date) => {\n        const cur = new XDate(date);\n        let dataIndex = 0;\n        for (let i = 0; i < sections.length; i++) {\n            const titleDate = parseDate(sections[i].title);\n            if (isGTE(titleDate, cur)) {\n                return dataIndex;\n            }\n            dataIndex += sections[i].data.length + 1;\n        }\n    };\n    const getSectionTitle = useCallback((title) => {\n        if (!title)\n            return;\n        let sectionTitle = title;\n        if (dayFormatter) {\n            sectionTitle = dayFormatter(title);\n        }\n        else if (dayFormat) {\n            if (useMoment) {\n                const moment = getMoment();\n                sectionTitle = moment(title).format(dayFormat);\n            }\n            else {\n                sectionTitle = new XDate(title).toString(dayFormat);\n            }\n        }\n        if (markToday) {\n            const string = getDefaultLocale().today || todayString;\n            const today = isToday(title);\n            sectionTitle = today ? `${string}, ${sectionTitle}` : sectionTitle;\n        }\n        return sectionTitle;\n    }, []);\n    const scrollToSection = useCallback(debounce((requestedDate) => {\n        const sectionIndex = scrollToNextEvent ? getNextSectionIndex(requestedDate) : getSectionIndex(requestedDate);\n        if (isUndefined(sectionIndex)) {\n            return;\n        }\n        if (list?.current && sectionIndex !== undefined) {\n            sectionScroll.current = true; // to avoid setDate() in _onVisibleIndicesChanged\n            if (requestedDate !== _topSection.current) {\n                _topSection.current = sections[findItemTitleIndex(sectionIndex)]?.title;\n                list.current?.scrollToIndex(sectionIndex, true);\n            }\n            setTimeout(() => {\n                _onMomentumScrollEnd(); // the RecyclerListView doesn't trigger onMomentumScrollEnd when calling scrollToSection\n            }, 500);\n        }\n    }, 1000, { leading: true, trailing: true }), [sections]);\n    const layoutProvider = useMemo(() => new LayoutProvider((index) => dataRef.current[index]?.isTitle ? 'title' : dataRef.current[index]?.itemCustomHeightType ?? 'page', (type, dim) => {\n        dim.width = constants.screenWidth;\n        switch (type) {\n            case 'title':\n                dim.height = infiniteListProps?.titleHeight ?? 60;\n                break;\n            case 'page':\n                dim.height = infiniteListProps?.itemHeight ?? 80;\n                break;\n            default:\n                dim.height = infiniteListProps?.itemHeightByType?.[type] ?? infiniteListProps?.itemHeight ?? 80;\n        }\n    }), []);\n    const _onScroll = useCallback((rawEvent) => {\n        if (!didScroll.current) {\n            didScroll.current = true;\n            scrollToSection.cancel();\n        }\n        // Convert to a format similar to NativeSyntheticEvent<NativeScrollEvent>\n        const event = {\n            nativeEvent: {\n                contentOffset: rawEvent.nativeEvent.contentOffset,\n                layoutMeasurement: rawEvent.nativeEvent.layoutMeasurement,\n                contentSize: rawEvent.nativeEvent.contentSize\n            }\n        };\n        onScroll?.(event);\n    }, [onScroll]);\n    const _onVisibleIndicesChanged = useCallback((all) => {\n        if (all && all.length && !sectionScroll.current) {\n            const topItemIndex = all[0];\n            const topSection = data[findItemTitleIndex(topItemIndex)];\n            if (topSection && topSection !== _topSection.current) {\n                _topSection.current = topSection.title;\n                if (didScroll.current && !avoidDateUpdates) {\n                    // to avoid setDate() on first load (while setting the initial context.date value)\n                    setDate?.(topSection.title, UpdateSources.LIST_DRAG);\n                }\n            }\n        }\n    }, [avoidDateUpdates, setDate, data]);\n    const findItemTitleIndex = useCallback((itemIndex) => {\n        let titleIndex = itemIndex;\n        while (titleIndex > 0 && !data[titleIndex]?.isTitle) {\n            titleIndex--;\n        }\n        return titleIndex;\n    }, [data]);\n    const _onMomentumScrollEnd = useCallback(() => {\n        sectionScroll.current = false;\n    }, []);\n    const headerTextStyle = useMemo(() => [style.current.sectionText, sectionStyle], [sectionStyle]);\n    const _renderSectionHeader = useCallback((info) => {\n        const title = info?.section?.title;\n        if (renderSectionHeader) {\n            return renderSectionHeader(title);\n        }\n        const headerTitle = getSectionTitle(title);\n        return <AgendaSectionHeader title={headerTitle} style={headerTextStyle}/>;\n    }, [headerTextStyle]);\n    const _renderItem = useCallback((_type, item) => {\n        if (item?.isTitle) {\n            return _renderSectionHeader({ section: item });\n        }\n        if (renderItem) {\n            return renderItem({ item });\n        }\n        return <></>;\n    }, [renderItem]);\n    const _onEndReached = useCallback(() => {\n        if (onEndReached) {\n            onEndReached({ distanceFromEnd: 0 }); // The RecyclerListView doesn't provide the distanceFromEnd, so we just pass 0\n        }\n    }, [onEndReached]);\n    return (<InfiniteList ref={list} renderItem={_renderItem} data={data} style={style.current.container} layoutProvider={layoutProvider} onScroll={_onScroll} onVisibleIndicesChanged={_onVisibleIndicesChanged} scrollViewProps={{ nestedScrollEnabled: true, ...others, onMomentumScrollEnd: _onMomentumScrollEnd }} onEndReached={_onEndReached} onEndReachedThreshold={onEndReachedThreshold} disableScrollOnDataChange renderFooter={infiniteListProps?.renderFooter}/>);\n};\nexport default InfiniteAgendaList;\nInfiniteAgendaList.displayName = 'InfiniteAgendaList';\nInfiniteAgendaList.propTypes = {\n    dayFormat: PropTypes.string,\n    dayFormatter: PropTypes.func,\n    useMoment: PropTypes.bool,\n    markToday: PropTypes.bool,\n    sectionStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n    avoidDateUpdates: PropTypes.bool\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}