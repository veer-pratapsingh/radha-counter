{"ast":null,"code":"import PropTypes from'prop-types';import get from'lodash/get';import map from'lodash/map';import isFunction from'lodash/isFunction';import isUndefined from'lodash/isUndefined';import debounce from'lodash/debounce';import XDate from'xdate';import React,{forwardRef,useCallback,useContext,useEffect,useMemo,useRef}from'react';import SectionList from\"react-native-web/dist/exports/SectionList\";import{useDidUpdate,useCombinedRefs}from'../../hooks';import{getMoment}from'../../momentResolver';import{isToday,isGTE,sameDate}from'../../dateutils';import{parseDate}from'../../interface';import{getDefaultLocale}from'../../services';import{UpdateSources,todayString}from'../commons';import constants from'../../commons/constants';import styleConstructor from'../style';import Context from'../Context';import InfiniteAgendaList from'./infiniteAgendaList';import{AgendaSectionHeader}from'./commons';import{jsx as _jsx}from\"react/jsx-runtime\";const viewabilityConfig={itemVisiblePercentThreshold:20};const AgendaList=forwardRef((props,ref)=>{const{theme,sections,scrollToNextEvent,viewOffset=0,avoidDateUpdates,onScroll,onMomentumScrollBegin,onMomentumScrollEnd,onScrollToIndexFailed,renderSectionHeader,sectionStyle,keyExtractor,dayFormatter,dayFormat='dddd, MMM d',useMoment,markToday=true,onViewableItemsChanged}=props;const{date,updateSource,setDate,setDisabled}=useContext(Context);const style=useRef(styleConstructor(theme));const list=useCombinedRefs(ref);const _topSection=useRef(sections[0]?.title);const didScroll=useRef(false);const sectionScroll=useRef(false);const sectionHeight=useRef(0);useEffect(()=>{if(date!==_topSection.current){setTimeout(()=>{scrollToSection(date);},500);}},[]);useDidUpdate(()=>{if(updateSource!==UpdateSources.LIST_DRAG&&updateSource!==UpdateSources.CALENDAR_INIT){scrollToSection(date);}},[date]);const getSectionIndex=date=>{let i;map(sections,(section,index)=>{if(section.title===date){i=index;}});return i;};const getNextSectionIndex=date=>{let i=0;for(let j=1;j<sections.length;j++){const prev=parseDate(sections[j-1]?.title);const next=parseDate(sections[j]?.title);const cur=new XDate(date);if(isGTE(cur,prev)&&isGTE(next,cur)){i=sameDate(prev,cur)?j-1:j;break;}else if(isGTE(cur,next)){i=j;}}return i;};const getSectionTitle=useCallback(title=>{if(!title)return;let sectionTitle=title;if(dayFormatter){sectionTitle=dayFormatter(title);}else if(dayFormat){if(useMoment){const moment=getMoment();sectionTitle=moment(title).format(dayFormat);}else{sectionTitle=new XDate(title).toString(dayFormat);}}if(markToday){const string=getDefaultLocale().today||todayString;const today=isToday(title);sectionTitle=today?`${string}, ${sectionTitle}`:sectionTitle;}return sectionTitle;},[]);const scrollToSection=useCallback(debounce(d=>{const sectionIndex=scrollToNextEvent?getNextSectionIndex(d):getSectionIndex(d);if(isUndefined(sectionIndex)){return;}if(list?.current&&sectionIndex!==undefined){sectionScroll.current=true;_topSection.current=sections[sectionIndex]?.title;list?.current.scrollToLocation({animated:true,sectionIndex:sectionIndex,itemIndex:1,viewPosition:0,viewOffset:(constants.isAndroid?sectionHeight.current:0)+viewOffset});}},1000,{leading:true,trailing:true}),[viewOffset,sections]);const _onViewableItemsChanged=useCallback(info=>{if(info?.viewableItems&&!sectionScroll.current){const topSection=get(info?.viewableItems[0],'section.title');if(topSection&&topSection!==_topSection.current){_topSection.current=topSection;if(didScroll.current&&!avoidDateUpdates){setDate?.(_topSection.current,UpdateSources.LIST_DRAG);}}}onViewableItemsChanged?.(info);},[avoidDateUpdates,setDate,onViewableItemsChanged]);const _onScroll=useCallback(event=>{if(!didScroll.current){didScroll.current=true;scrollToSection.cancel();}onScroll?.(event);},[onScroll]);const _onMomentumScrollBegin=useCallback(event=>{setDisabled?.(true);onMomentumScrollBegin?.(event);},[onMomentumScrollBegin,setDisabled]);const _onMomentumScrollEnd=useCallback(event=>{sectionScroll.current=false;setDisabled?.(false);onMomentumScrollEnd?.(event);},[onMomentumScrollEnd,setDisabled]);const headerTextStyle=useMemo(()=>[style.current.sectionText,sectionStyle],[sectionStyle]);const _onScrollToIndexFailed=useCallback(info=>{if(onScrollToIndexFailed){onScrollToIndexFailed(info);}else{console.log('onScrollToIndexFailed info: ',info);}},[onScrollToIndexFailed]);const onHeaderLayout=useCallback(event=>{sectionHeight.current=event.nativeEvent.layout.height;},[]);const _renderSectionHeader=useCallback(info=>{const title=info?.section?.title;if(renderSectionHeader){return renderSectionHeader(title);}const headerTitle=getSectionTitle(title);return _jsx(AgendaSectionHeader,{title:headerTitle,style:headerTextStyle,onLayout:onHeaderLayout});},[headerTextStyle]);const _keyExtractor=useCallback((item,index)=>{return isFunction(keyExtractor)?keyExtractor(item,index):String(index);},[keyExtractor]);if(props.infiniteListProps){return _jsx(InfiniteAgendaList,Object.assign({},props));}return _jsx(SectionList,Object.assign({stickySectionHeadersEnabled:true},props,{ref:list,keyExtractor:_keyExtractor,showsVerticalScrollIndicator:false,onViewableItemsChanged:_onViewableItemsChanged,viewabilityConfig:viewabilityConfig,renderSectionHeader:_renderSectionHeader,onScroll:_onScroll,onMomentumScrollBegin:_onMomentumScrollBegin,onMomentumScrollEnd:_onMomentumScrollEnd,onScrollToIndexFailed:_onScrollToIndexFailed}));});export default AgendaList;AgendaList.displayName='AgendaList';AgendaList.propTypes={dayFormat:PropTypes.string,dayFormatter:PropTypes.func,useMoment:PropTypes.bool,markToday:PropTypes.bool,sectionStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.number,PropTypes.array]),avoidDateUpdates:PropTypes.bool};","map":{"version":3,"names":["PropTypes","get","map","isFunction","isUndefined","debounce","XDate","React","forwardRef","useCallback","useContext","useEffect","useMemo","useRef","SectionList","useDidUpdate","useCombinedRefs","getMoment","isToday","isGTE","sameDate","parseDate","getDefaultLocale","UpdateSources","todayString","constants","styleConstructor","Context","InfiniteAgendaList","AgendaSectionHeader","jsx","_jsx","viewabilityConfig","itemVisiblePercentThreshold","AgendaList","props","ref","theme","sections","scrollToNextEvent","viewOffset","avoidDateUpdates","onScroll","onMomentumScrollBegin","onMomentumScrollEnd","onScrollToIndexFailed","renderSectionHeader","sectionStyle","keyExtractor","dayFormatter","dayFormat","useMoment","markToday","onViewableItemsChanged","date","updateSource","setDate","setDisabled","style","list","_topSection","title","didScroll","sectionScroll","sectionHeight","current","setTimeout","scrollToSection","LIST_DRAG","CALENDAR_INIT","getSectionIndex","i","section","index","getNextSectionIndex","j","length","prev","next","cur","getSectionTitle","sectionTitle","moment","format","toString","string","today","d","sectionIndex","undefined","scrollToLocation","animated","itemIndex","viewPosition","isAndroid","leading","trailing","_onViewableItemsChanged","info","viewableItems","topSection","_onScroll","event","cancel","_onMomentumScrollBegin","_onMomentumScrollEnd","headerTextStyle","sectionText","_onScrollToIndexFailed","console","log","onHeaderLayout","nativeEvent","layout","height","_renderSectionHeader","headerTitle","onLayout","_keyExtractor","item","String","infiniteListProps","Object","assign","stickySectionHeadersEnabled","showsVerticalScrollIndicator","displayName","propTypes","func","bool","oneOfType","object","number","array"],"sources":["C:/Users/chaud/radha-counter/node_modules/react-native-calendars/src/expandableCalendar/AgendaList/agendaList.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport map from 'lodash/map';\nimport isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport debounce from 'lodash/debounce';\nimport XDate from 'xdate';\nimport React, { forwardRef, useCallback, useContext, useEffect, useMemo, useRef } from 'react';\nimport { SectionList } from 'react-native';\nimport { useDidUpdate, useCombinedRefs } from '../../hooks';\nimport { getMoment } from '../../momentResolver';\nimport { isToday, isGTE, sameDate } from '../../dateutils';\nimport { parseDate } from '../../interface';\nimport { getDefaultLocale } from '../../services';\nimport { UpdateSources, todayString } from '../commons';\nimport constants from '../../commons/constants';\nimport styleConstructor from '../style';\nimport Context from '../Context';\nimport InfiniteAgendaList from './infiniteAgendaList';\nimport { AgendaSectionHeader } from './commons';\nconst viewabilityConfig = {\n    itemVisiblePercentThreshold: 20 // 50 means if 50% of the item is visible\n};\n/**\n * @description: AgendaList component\n * @note: Should be wrapped with 'CalendarProvider'\n * @extends: SectionList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst AgendaList = forwardRef((props, ref) => {\n    const { theme, sections, scrollToNextEvent, viewOffset = 0, avoidDateUpdates, onScroll, onMomentumScrollBegin, onMomentumScrollEnd, onScrollToIndexFailed, renderSectionHeader, sectionStyle, keyExtractor, dayFormatter, dayFormat = 'dddd, MMM d', useMoment, markToday = true, onViewableItemsChanged } = props;\n    const { date, updateSource, setDate, setDisabled } = useContext(Context);\n    const style = useRef(styleConstructor(theme));\n    const list = useCombinedRefs(ref);\n    const _topSection = useRef(sections[0]?.title);\n    const didScroll = useRef(false);\n    const sectionScroll = useRef(false);\n    const sectionHeight = useRef(0);\n    useEffect(() => {\n        if (date !== _topSection.current) {\n            setTimeout(() => {\n                scrollToSection(date);\n            }, 500);\n        }\n    }, []);\n    useDidUpdate(() => {\n        // NOTE: on first init data should set first section to the current date!!!\n        if (updateSource !== UpdateSources.LIST_DRAG && updateSource !== UpdateSources.CALENDAR_INIT) {\n            scrollToSection(date);\n        }\n    }, [date]);\n    const getSectionIndex = (date) => {\n        let i;\n        map(sections, (section, index) => {\n            // NOTE: sections titles should match current date format!!!\n            if (section.title === date) {\n                i = index;\n            }\n        });\n        return i;\n    };\n    const getNextSectionIndex = (date) => {\n        let i = 0;\n        for (let j = 1; j < sections.length; j++) {\n            const prev = parseDate(sections[j - 1]?.title);\n            const next = parseDate(sections[j]?.title);\n            const cur = new XDate(date);\n            if (isGTE(cur, prev) && isGTE(next, cur)) {\n                i = sameDate(prev, cur) ? j - 1 : j;\n                break;\n            }\n            else if (isGTE(cur, next)) {\n                i = j;\n            }\n        }\n        return i;\n    };\n    const getSectionTitle = useCallback((title) => {\n        if (!title)\n            return;\n        let sectionTitle = title;\n        if (dayFormatter) {\n            sectionTitle = dayFormatter(title);\n        }\n        else if (dayFormat) {\n            if (useMoment) {\n                const moment = getMoment();\n                sectionTitle = moment(title).format(dayFormat);\n            }\n            else {\n                sectionTitle = new XDate(title).toString(dayFormat);\n            }\n        }\n        if (markToday) {\n            const string = getDefaultLocale().today || todayString;\n            const today = isToday(title);\n            sectionTitle = today ? `${string}, ${sectionTitle}` : sectionTitle;\n        }\n        return sectionTitle;\n    }, []);\n    const scrollToSection = useCallback(debounce((d) => {\n        const sectionIndex = scrollToNextEvent ? getNextSectionIndex(d) : getSectionIndex(d);\n        if (isUndefined(sectionIndex)) {\n            return;\n        }\n        if (list?.current && sectionIndex !== undefined) {\n            sectionScroll.current = true; // to avoid setDate() in onViewableItemsChanged\n            _topSection.current = sections[sectionIndex]?.title;\n            // @ts-expect-error should be fixed when we fix the typings of the ref.\n            list?.current.scrollToLocation({\n                animated: true,\n                sectionIndex: sectionIndex,\n                itemIndex: 1,\n                viewPosition: 0,\n                viewOffset: (constants.isAndroid ? sectionHeight.current : 0) + viewOffset\n            });\n        }\n    }, 1000, { leading: true, trailing: true }), [viewOffset, sections]);\n    const _onViewableItemsChanged = useCallback((info) => {\n        if (info?.viewableItems && !sectionScroll.current) {\n            const topSection = get(info?.viewableItems[0], 'section.title');\n            if (topSection && topSection !== _topSection.current) {\n                _topSection.current = topSection;\n                if (didScroll.current && !avoidDateUpdates) {\n                    // to avoid setDate() on first load (while setting the initial context.date value)\n                    setDate?.(_topSection.current, UpdateSources.LIST_DRAG);\n                }\n            }\n        }\n        onViewableItemsChanged?.(info);\n    }, [avoidDateUpdates, setDate, onViewableItemsChanged]);\n    const _onScroll = useCallback((event) => {\n        if (!didScroll.current) {\n            didScroll.current = true;\n            scrollToSection.cancel();\n        }\n        onScroll?.(event);\n    }, [onScroll]);\n    const _onMomentumScrollBegin = useCallback((event) => {\n        setDisabled?.(true);\n        onMomentumScrollBegin?.(event);\n    }, [onMomentumScrollBegin, setDisabled]);\n    const _onMomentumScrollEnd = useCallback((event) => {\n        // when list momentum ends AND when scrollToSection scroll ends\n        sectionScroll.current = false;\n        setDisabled?.(false);\n        onMomentumScrollEnd?.(event);\n    }, [onMomentumScrollEnd, setDisabled]);\n    const headerTextStyle = useMemo(() => [style.current.sectionText, sectionStyle], [sectionStyle]);\n    const _onScrollToIndexFailed = useCallback((info) => {\n        if (onScrollToIndexFailed) {\n            onScrollToIndexFailed(info);\n        }\n        else {\n            console.log('onScrollToIndexFailed info: ', info);\n        }\n    }, [onScrollToIndexFailed]);\n    const onHeaderLayout = useCallback((event) => {\n        sectionHeight.current = event.nativeEvent.layout.height;\n    }, []);\n    const _renderSectionHeader = useCallback((info) => {\n        const title = info?.section?.title;\n        if (renderSectionHeader) {\n            return renderSectionHeader(title);\n        }\n        const headerTitle = getSectionTitle(title);\n        return <AgendaSectionHeader title={headerTitle} style={headerTextStyle} onLayout={onHeaderLayout}/>;\n    }, [headerTextStyle]);\n    const _keyExtractor = useCallback((item, index) => {\n        return isFunction(keyExtractor) ? keyExtractor(item, index) : String(index);\n    }, [keyExtractor]);\n    if (props.infiniteListProps) {\n        return <InfiniteAgendaList {...props}/>;\n    }\n    return (<SectionList stickySectionHeadersEnabled {...props} \n    // @ts-expect-error\n    ref={list} keyExtractor={_keyExtractor} showsVerticalScrollIndicator={false} onViewableItemsChanged={_onViewableItemsChanged} viewabilityConfig={viewabilityConfig} renderSectionHeader={_renderSectionHeader} onScroll={_onScroll} onMomentumScrollBegin={_onMomentumScrollBegin} onMomentumScrollEnd={_onMomentumScrollEnd} onScrollToIndexFailed={_onScrollToIndexFailed}/>);\n    // _getItemLayout = (data, index) => {\n    //   return {length: constants.screenWidth, offset: constants.screenWidth * index, index};\n    // }\n});\nexport default AgendaList;\nAgendaList.displayName = 'AgendaList';\nAgendaList.propTypes = {\n    dayFormat: PropTypes.string,\n    dayFormatter: PropTypes.func,\n    useMoment: PropTypes.bool,\n    markToday: PropTypes.bool,\n    // @ts-expect-error TODO Figure out why forwardRef causes error about the number type\n    sectionStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n    avoidDateUpdates: PropTypes.bool\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}