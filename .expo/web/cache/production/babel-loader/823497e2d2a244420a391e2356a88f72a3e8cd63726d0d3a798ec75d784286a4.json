{"ast":null,"code":"import isFunction from'lodash/isFunction';import PropTypes from'prop-types';import XDate from'xdate';import memoize from'memoize-one';import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import Animated from\"react-native-web/dist/exports/Animated\";import{extractCalendarListProps,extractReservationListProps}from'../componentUpdater';import{xdateToData,toMarkingFormat}from'../interface';import{sameDate,sameMonth}from'../dateutils';import{AGENDA_CALENDAR_KNOB}from'../testIDs';import{VelocityTracker}from'../velocityTracker';import{getCalendarDateString}from'../services';import styleConstructor from'./style';import WeekDaysNames from'../commons/WeekDaysNames';import CalendarList from'../calendar-list';import ReservationList from'./reservation-list';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HEADER_HEIGHT=104;const KNOB_HEIGHT=24;class Agenda extends Component{static displayName='Agenda';static propTypes=Object.assign({},CalendarList.propTypes,ReservationList.propTypes,{items:PropTypes.object,style:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.number]),loadItemsForMonth:PropTypes.func,onCalendarToggled:PropTypes.func,onDayChange:PropTypes.func,renderKnob:PropTypes.func,renderList:PropTypes.func,selected:PropTypes.any,hideKnob:PropTypes.bool,showClosingKnob:PropTypes.bool});scrollPad=React.createRef();calendar=React.createRef();knob=React.createRef();list=React.createRef();constructor(props){super(props);this.style=styleConstructor(props.theme);const windowSize=Dimensions.get('window');this.viewHeight=windowSize.height;this.viewWidth=windowSize.width;this.scrollTimeout=undefined;this.headerState='idle';this.state={scrollY:new Animated.Value(0),calendarIsReady:false,calendarScrollable:false,firstReservationLoad:false,selectedDay:this.getSelectedDate(props.selected),topDay:this.getSelectedDate(props.selected)};this.currentMonth=this.state.selectedDay.clone();this.knobTracker=new VelocityTracker();this.state.scrollY.addListener(({value})=>this.knobTracker.add(value));}componentDidMount(){this._isMounted=true;this.loadReservations(this.props);}componentWillUnmount(){this._isMounted=false;this.state.scrollY.removeAllListeners();}componentDidUpdate(prevProps,prevState){const newSelectedDate=this.getSelectedDate(this.props.selected);if(!sameDate(newSelectedDate,prevState.selectedDay)){const prevSelectedDate=this.getSelectedDate(prevProps.selected);if(!sameDate(newSelectedDate,prevSelectedDate)){this.setState({selectedDay:newSelectedDate});this.calendar?.current?.scrollToDay(newSelectedDate,this.calendarOffset(),true);}}else if(!prevProps.items){this.loadReservations(this.props);}}static getDerivedStateFromProps(nextProps){if(nextProps.items){return{firstReservationLoad:false};}return null;}getSelectedDate(date){return date?new XDate(date):new XDate(true);}calendarOffset(){return 96-this.viewHeight/2;}initialScrollPadPosition=()=>{return Math.max(0,this.viewHeight-HEADER_HEIGHT);};setScrollPadPosition=(y,animated)=>{if(this.scrollPad?.current?.scrollTo){this.scrollPad.current.scrollTo({x:0,y,animated});}else{this.scrollPad?.current?.getNode().scrollTo({x:0,y,animated});}};toggleCalendarPosition=open=>{const maxY=this.initialScrollPadPosition();this.setScrollPadPosition(open?0:maxY,true);this.enableCalendarScrolling(open);};enableCalendarScrolling(enable=true){this.setState({calendarScrollable:enable});this.props.onCalendarToggled?.(enable);this.calendar?.current?.scrollToDay(this.state.selectedDay,this.calendarOffset()+1,true);}loadReservations(props){if((!props.items||!Object.keys(props.items).length)&&!this.state.firstReservationLoad){this.setState({firstReservationLoad:true},()=>{this.props.loadItemsForMonth?.(xdateToData(this.state.selectedDay));});}}onDayPress=d=>{this.chooseDay(d,!this.state.calendarScrollable);};chooseDay(d,optimisticScroll){const day=new XDate(d.dateString);this.setState({calendarScrollable:false,selectedDay:day.clone()});this.props.onCalendarToggled?.(false);if(!optimisticScroll){this.setState({topDay:day.clone()});}this.setScrollPadPosition(this.initialScrollPadPosition(),true);this.calendar?.current?.scrollToDay(day,this.calendarOffset(),true);this.props.loadItemsForMonth?.(xdateToData(day));this.props.onDayPress?.(xdateToData(day));}generateMarkings=memoize((selectedDay,markedDates,items)=>{if(!markedDates){markedDates={};if(items){Object.keys(items).forEach(key=>{if(items[key]&&items[key].length){markedDates[key]={marked:true};}});}}const key=toMarkingFormat(selectedDay);return Object.assign({},markedDates,{[key]:Object.assign({},markedDates[key]||{},{selected:true})});});onScrollPadLayout=()=>{this.setScrollPadPosition(this.initialScrollPadPosition(),false);setTimeout(()=>this.setState({calendarIsReady:true}),0);};onCalendarListLayout=()=>{this.calendar?.current?.scrollToDay(this.state.selectedDay,this.calendarOffset(),false);};onLayout=event=>{this.viewHeight=event.nativeEvent.layout.height;this.viewWidth=event.nativeEvent.layout.width;this.forceUpdate();};onTouchStart=()=>{this.headerState='touched';this.knob?.current?.setNativeProps({style:{opacity:0.5}});};onTouchEnd=()=>{this.knob?.current?.setNativeProps({style:{opacity:1}});if(this.headerState==='touched'){const isOpen=this.state.calendarScrollable;this.toggleCalendarPosition(!isOpen);}this.headerState='idle';};onStartDrag=()=>{this.headerState='dragged';this.knobTracker.reset();};onSnapAfterDrag=e=>{this.onTouchEnd();const currentY=e.nativeEvent.contentOffset.y;this.knobTracker.add(currentY);const projectedY=currentY+this.knobTracker.estimateSpeed()*250;const maxY=this.initialScrollPadPosition();const snapY=projectedY>maxY/2?maxY:0;this.setScrollPadPosition(snapY,true);this.enableCalendarScrolling(snapY===0);};onVisibleMonthsChange=months=>{this.props.onVisibleMonthsChange?.(months);if(this.props.items&&!this.state.firstReservationLoad){if(this.scrollTimeout){clearTimeout(this.scrollTimeout);}this.scrollTimeout=setTimeout(()=>{if(this._isMounted){this.props.loadItemsForMonth?.(months[0]);}},200);}};onDayChange=day=>{const withAnimation=sameMonth(day,this.state.selectedDay);this.calendar?.current?.scrollToDay(day,this.calendarOffset(),withAnimation);this.setState({selectedDay:day});this.props.onDayChange?.(xdateToData(day));};renderReservations(){const reservationListProps=extractReservationListProps(this.props);if(isFunction(this.props.renderList)){return this.props.renderList(Object.assign({},reservationListProps,{selectedDay:this.state.selectedDay,topDay:this.state.topDay,onDayChange:this.onDayChange}));}return _jsx(ReservationList,Object.assign({},reservationListProps,{ref:this.list,selectedDay:this.state.selectedDay,topDay:this.state.topDay,onDayChange:this.onDayChange}));}renderCalendarList(){const{markedDates,items}=this.props;const shouldHideExtraDays=this.state.calendarScrollable?this.props.hideExtraDays:false;const calendarListProps=extractCalendarListProps(this.props);return _jsx(CalendarList,Object.assign({},calendarListProps,{ref:this.calendar,current:getCalendarDateString(this.currentMonth.toString()),markedDates:this.generateMarkings(this.state.selectedDay,markedDates,items),calendarWidth:this.viewWidth,scrollEnabled:this.state.calendarScrollable,hideExtraDays:shouldHideExtraDays,onLayout:this.onCalendarListLayout,onDayPress:this.onDayPress,onVisibleMonthsChange:this.onVisibleMonthsChange}));}renderKnob(){const{showClosingKnob,hideKnob,renderKnob}=this.props;let knob=_jsx(View,{style:this.style.knobContainer});if(!hideKnob){const knobView=renderKnob?renderKnob():_jsx(View,{style:this.style.knob});knob=!this.state.calendarScrollable||showClosingKnob?_jsx(View,{style:this.style.knobContainer,children:_jsx(View,{ref:this.knob,children:knobView})}):null;}return knob;}renderWeekDaysNames=()=>{return _jsx(WeekDaysNames,{firstDay:this.props.firstDay,style:this.style.dayHeader});};renderWeekNumbersSpace=()=>{return this.props.showWeekNumbers&&_jsx(View,{style:this.style.dayHeader});};render(){const{hideKnob,style,testID}=this.props;const agendaHeight=this.initialScrollPadPosition();const weekdaysStyle=[this.style.weekdays,{opacity:this.state.scrollY.interpolate({inputRange:[agendaHeight-HEADER_HEIGHT,agendaHeight],outputRange:[0,1],extrapolate:'clamp'}),transform:[{translateY:this.state.scrollY.interpolate({inputRange:[Math.max(0,agendaHeight-HEADER_HEIGHT),agendaHeight],outputRange:[-HEADER_HEIGHT,0],extrapolate:'clamp'})}]}];const headerTranslate=this.state.scrollY.interpolate({inputRange:[0,agendaHeight],outputRange:[agendaHeight,0],extrapolate:'clamp'});const contentTranslate=this.state.scrollY.interpolate({inputRange:[0,agendaHeight],outputRange:[0,agendaHeight/2],extrapolate:'clamp'});const headerStyle=[this.style.header,{bottom:agendaHeight,transform:[{translateY:headerTranslate}]}];if(!this.state.calendarIsReady){headerStyle.push({height:0});weekdaysStyle.push({height:HEADER_HEIGHT});}const openCalendarScrollPadPosition=!hideKnob&&this.state.calendarScrollable&&this.props.showClosingKnob?agendaHeight+HEADER_HEIGHT:0;const shouldAllowDragging=!hideKnob&&!this.state.calendarScrollable;const scrollPadPosition=(shouldAllowDragging?HEADER_HEIGHT:openCalendarScrollPadPosition)-KNOB_HEIGHT;const scrollPadStyle={height:KNOB_HEIGHT,top:scrollPadPosition};return _jsxs(View,{testID:testID,onLayout:this.onLayout,style:[style,this.style.container],children:[_jsx(View,{style:this.style.reservations,children:this.renderReservations()}),_jsxs(Animated.View,{style:headerStyle,children:[_jsx(Animated.View,{style:[this.style.animatedContainer,{transform:[{translateY:contentTranslate}]}],children:this.renderCalendarList()}),this.renderKnob()]}),_jsxs(Animated.View,{style:weekdaysStyle,children:[this.renderWeekNumbersSpace(),this.renderWeekDaysNames()]}),_jsx(Animated.ScrollView,{ref:this.scrollPad,style:[this.style.scrollPadStyle,scrollPadStyle],overScrollMode:\"never\",showsHorizontalScrollIndicator:false,showsVerticalScrollIndicator:false,scrollEventThrottle:8,scrollsToTop:false,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,onScrollBeginDrag:this.onStartDrag,onScrollEndDrag:this.onSnapAfterDrag,onScroll:Animated.event([{nativeEvent:{contentOffset:{y:this.state.scrollY}}}],{useNativeDriver:true}),children:_jsx(View,{testID:AGENDA_CALENDAR_KNOB,style:{height:agendaHeight+KNOB_HEIGHT},onLayout:this.onScrollPadLayout})})]});}}export default Agenda;","map":{"version":3,"names":["isFunction","PropTypes","XDate","memoize","React","Component","View","Dimensions","Animated","extractCalendarListProps","extractReservationListProps","xdateToData","toMarkingFormat","sameDate","sameMonth","AGENDA_CALENDAR_KNOB","VelocityTracker","getCalendarDateString","styleConstructor","WeekDaysNames","CalendarList","ReservationList","jsx","_jsx","jsxs","_jsxs","HEADER_HEIGHT","KNOB_HEIGHT","Agenda","displayName","propTypes","Object","assign","items","object","style","oneOfType","array","number","loadItemsForMonth","func","onCalendarToggled","onDayChange","renderKnob","renderList","selected","any","hideKnob","bool","showClosingKnob","scrollPad","createRef","calendar","knob","list","constructor","props","theme","windowSize","get","viewHeight","height","viewWidth","width","scrollTimeout","undefined","headerState","state","scrollY","Value","calendarIsReady","calendarScrollable","firstReservationLoad","selectedDay","getSelectedDate","topDay","currentMonth","clone","knobTracker","addListener","value","add","componentDidMount","_isMounted","loadReservations","componentWillUnmount","removeAllListeners","componentDidUpdate","prevProps","prevState","newSelectedDate","prevSelectedDate","setState","current","scrollToDay","calendarOffset","getDerivedStateFromProps","nextProps","date","initialScrollPadPosition","Math","max","setScrollPadPosition","y","animated","scrollTo","x","getNode","toggleCalendarPosition","open","maxY","enableCalendarScrolling","enable","keys","length","onDayPress","d","chooseDay","optimisticScroll","day","dateString","generateMarkings","markedDates","forEach","key","marked","onScrollPadLayout","setTimeout","onCalendarListLayout","onLayout","event","nativeEvent","layout","forceUpdate","onTouchStart","setNativeProps","opacity","onTouchEnd","isOpen","onStartDrag","reset","onSnapAfterDrag","e","currentY","contentOffset","projectedY","estimateSpeed","snapY","onVisibleMonthsChange","months","clearTimeout","withAnimation","renderReservations","reservationListProps","ref","renderCalendarList","shouldHideExtraDays","hideExtraDays","calendarListProps","toString","calendarWidth","scrollEnabled","knobContainer","knobView","children","renderWeekDaysNames","firstDay","dayHeader","renderWeekNumbersSpace","showWeekNumbers","render","testID","agendaHeight","weekdaysStyle","weekdays","interpolate","inputRange","outputRange","extrapolate","transform","translateY","headerTranslate","contentTranslate","headerStyle","header","bottom","push","openCalendarScrollPadPosition","shouldAllowDragging","scrollPadPosition","scrollPadStyle","top","container","reservations","animatedContainer","ScrollView","overScrollMode","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","scrollEventThrottle","scrollsToTop","onScrollBeginDrag","onScrollEndDrag","onScroll","useNativeDriver"],"sources":["C:/Users/chaud/radha-counter/node_modules/react-native-calendars/src/agenda/index.js"],"sourcesContent":["import isFunction from 'lodash/isFunction';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport memoize from 'memoize-one';\nimport React, { Component } from 'react';\nimport { View, Dimensions, Animated } from 'react-native';\nimport { extractCalendarListProps, extractReservationListProps } from '../componentUpdater';\nimport { xdateToData, toMarkingFormat } from '../interface';\nimport { sameDate, sameMonth } from '../dateutils';\nimport { AGENDA_CALENDAR_KNOB } from '../testIDs';\nimport { VelocityTracker } from '../velocityTracker';\nimport { getCalendarDateString } from '../services';\nimport styleConstructor from './style';\nimport WeekDaysNames from '../commons/WeekDaysNames';\nimport CalendarList from '../calendar-list';\nimport ReservationList from './reservation-list';\nconst HEADER_HEIGHT = 104;\nconst KNOB_HEIGHT = 24;\n/**\n * @description: Agenda component\n * @extends: CalendarList\n * @extendslink: docs/CalendarList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/agenda.js\n * @gif: https://github.com/wix/react-native-calendars/blob/master/demo/assets/agenda.gif\n */\nclass Agenda extends Component {\n    static displayName = 'Agenda';\n    static propTypes = {\n        ...CalendarList.propTypes,\n        ...ReservationList.propTypes,\n        items: PropTypes.object,\n        style: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.number]),\n        loadItemsForMonth: PropTypes.func,\n        onCalendarToggled: PropTypes.func,\n        onDayChange: PropTypes.func,\n        renderKnob: PropTypes.func,\n        renderList: PropTypes.func,\n        selected: PropTypes.any,\n        hideKnob: PropTypes.bool,\n        showClosingKnob: PropTypes.bool\n    };\n    style;\n    viewHeight;\n    viewWidth;\n    scrollTimeout;\n    headerState;\n    currentMonth;\n    knobTracker;\n    _isMounted;\n    scrollPad = React.createRef();\n    calendar = React.createRef();\n    knob = React.createRef();\n    list = React.createRef();\n    constructor(props) {\n        super(props);\n        this.style = styleConstructor(props.theme);\n        const windowSize = Dimensions.get('window');\n        this.viewHeight = windowSize.height;\n        this.viewWidth = windowSize.width;\n        this.scrollTimeout = undefined;\n        this.headerState = 'idle';\n        this.state = {\n            scrollY: new Animated.Value(0),\n            calendarIsReady: false,\n            calendarScrollable: false,\n            firstReservationLoad: false,\n            selectedDay: this.getSelectedDate(props.selected),\n            topDay: this.getSelectedDate(props.selected)\n        };\n        this.currentMonth = this.state.selectedDay.clone();\n        this.knobTracker = new VelocityTracker();\n        this.state.scrollY.addListener(({ value }) => this.knobTracker.add(value));\n    }\n    componentDidMount() {\n        this._isMounted = true;\n        this.loadReservations(this.props);\n    }\n    componentWillUnmount() {\n        this._isMounted = false;\n        this.state.scrollY.removeAllListeners();\n    }\n    componentDidUpdate(prevProps, prevState) {\n        const newSelectedDate = this.getSelectedDate(this.props.selected);\n        if (!sameDate(newSelectedDate, prevState.selectedDay)) {\n            const prevSelectedDate = this.getSelectedDate(prevProps.selected);\n            if (!sameDate(newSelectedDate, prevSelectedDate)) {\n                this.setState({ selectedDay: newSelectedDate });\n                this.calendar?.current?.scrollToDay(newSelectedDate, this.calendarOffset(), true);\n            }\n        }\n        else if (!prevProps.items) {\n            this.loadReservations(this.props);\n        }\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if (nextProps.items) {\n            return { firstReservationLoad: false };\n        }\n        return null;\n    }\n    getSelectedDate(date) {\n        return date ? new XDate(date) : new XDate(true);\n    }\n    calendarOffset() {\n        return 96 - this.viewHeight / 2;\n    }\n    initialScrollPadPosition = () => {\n        return Math.max(0, this.viewHeight - HEADER_HEIGHT);\n    };\n    setScrollPadPosition = (y, animated) => {\n        if (this.scrollPad?.current?.scrollTo) {\n            this.scrollPad.current.scrollTo({ x: 0, y, animated });\n        }\n        else {\n            // Support for RN O.61 (Expo 37)\n            this.scrollPad?.current?.getNode().scrollTo({ x: 0, y, animated });\n        }\n    };\n    toggleCalendarPosition = (open) => {\n        const maxY = this.initialScrollPadPosition();\n        this.setScrollPadPosition(open ? 0 : maxY, true);\n        this.enableCalendarScrolling(open);\n    };\n    enableCalendarScrolling(enable = true) {\n        this.setState({ calendarScrollable: enable });\n        this.props.onCalendarToggled?.(enable);\n        // Enlarge calendarOffset here as a workaround on iOS to force repaint.\n        // Otherwise the month after current one or before current one remains invisible.\n        // The problem is caused by overflow: 'hidden' style, which we need for dragging\n        // to be performant.\n        // Another working solution for this bug would be to set removeClippedSubviews={false}\n        // in CalendarList listView, but that might impact performance when scrolling\n        // month list in expanded CalendarList.\n        // Further info https://github.com/facebook/react-native/issues/1831\n        this.calendar?.current?.scrollToDay(this.state.selectedDay, this.calendarOffset() + 1, true);\n    }\n    loadReservations(props) {\n        if ((!props.items || !Object.keys(props.items).length) && !this.state.firstReservationLoad) {\n            this.setState({ firstReservationLoad: true }, () => {\n                this.props.loadItemsForMonth?.(xdateToData(this.state.selectedDay));\n            });\n        }\n    }\n    onDayPress = (d) => {\n        this.chooseDay(d, !this.state.calendarScrollable);\n    };\n    chooseDay(d, optimisticScroll) {\n        const day = new XDate(d.dateString);\n        this.setState({\n            calendarScrollable: false,\n            selectedDay: day.clone()\n        });\n        this.props.onCalendarToggled?.(false);\n        if (!optimisticScroll) {\n            this.setState({ topDay: day.clone() });\n        }\n        this.setScrollPadPosition(this.initialScrollPadPosition(), true);\n        this.calendar?.current?.scrollToDay(day, this.calendarOffset(), true);\n        this.props.loadItemsForMonth?.(xdateToData(day));\n        this.props.onDayPress?.(xdateToData(day));\n    }\n    generateMarkings = memoize((selectedDay, markedDates, items) => {\n        if (!markedDates) {\n            markedDates = {};\n            if (items) {\n                Object.keys(items).forEach(key => {\n                    if (items[key] && items[key].length) {\n                        markedDates[key] = { marked: true };\n                    }\n                });\n            }\n        }\n        const key = toMarkingFormat(selectedDay);\n        return { ...markedDates, [key]: { ...(markedDates[key] || {}), ...{ selected: true } } };\n    });\n    onScrollPadLayout = () => {\n        // When user touches knob, the actual component that receives touch events is a ScrollView.\n        // It needs to be scrolled to the bottom, so that when user moves finger downwards,\n        // scroll position actually changes (it would stay at 0, when scrolled to the top).\n        this.setScrollPadPosition(this.initialScrollPadPosition(), false);\n        // delay rendering calendar in full height because otherwise it still flickers sometimes\n        setTimeout(() => this.setState({ calendarIsReady: true }), 0);\n    };\n    onCalendarListLayout = () => {\n        this.calendar?.current?.scrollToDay(this.state.selectedDay, this.calendarOffset(), false);\n    };\n    onLayout = (event) => {\n        this.viewHeight = event.nativeEvent.layout.height;\n        this.viewWidth = event.nativeEvent.layout.width;\n        this.forceUpdate();\n    };\n    onTouchStart = () => {\n        this.headerState = 'touched';\n        this.knob?.current?.setNativeProps({ style: { opacity: 0.5 } });\n    };\n    onTouchEnd = () => {\n        this.knob?.current?.setNativeProps({ style: { opacity: 1 } });\n        if (this.headerState === 'touched') {\n            const isOpen = this.state.calendarScrollable;\n            this.toggleCalendarPosition(!isOpen);\n        }\n        this.headerState = 'idle';\n    };\n    onStartDrag = () => {\n        this.headerState = 'dragged';\n        this.knobTracker.reset();\n    };\n    onSnapAfterDrag = (e) => {\n        // on Android onTouchEnd is not called if dragging was started\n        this.onTouchEnd();\n        const currentY = e.nativeEvent.contentOffset.y;\n        this.knobTracker.add(currentY);\n        const projectedY = currentY + this.knobTracker.estimateSpeed() * 250; /*ms*/\n        const maxY = this.initialScrollPadPosition();\n        const snapY = projectedY > maxY / 2 ? maxY : 0;\n        this.setScrollPadPosition(snapY, true);\n        this.enableCalendarScrolling(snapY === 0);\n    };\n    onVisibleMonthsChange = (months) => {\n        this.props.onVisibleMonthsChange?.(months);\n        if (this.props.items && !this.state.firstReservationLoad) {\n            if (this.scrollTimeout) {\n                clearTimeout(this.scrollTimeout);\n            }\n            this.scrollTimeout = setTimeout(() => {\n                if (this._isMounted) {\n                    this.props.loadItemsForMonth?.(months[0]);\n                }\n            }, 200);\n        }\n    };\n    onDayChange = (day) => {\n        const withAnimation = sameMonth(day, this.state.selectedDay);\n        this.calendar?.current?.scrollToDay(day, this.calendarOffset(), withAnimation);\n        this.setState({ selectedDay: day });\n        this.props.onDayChange?.(xdateToData(day));\n    };\n    renderReservations() {\n        const reservationListProps = extractReservationListProps(this.props);\n        if (isFunction(this.props.renderList)) {\n            return this.props.renderList({\n                ...reservationListProps,\n                selectedDay: this.state.selectedDay,\n                topDay: this.state.topDay,\n                onDayChange: this.onDayChange\n            });\n        }\n        return (<ReservationList {...reservationListProps} ref={this.list} selectedDay={this.state.selectedDay} topDay={this.state.topDay} onDayChange={this.onDayChange}/>);\n    }\n    renderCalendarList() {\n        const { markedDates, items } = this.props;\n        const shouldHideExtraDays = this.state.calendarScrollable ? this.props.hideExtraDays : false;\n        const calendarListProps = extractCalendarListProps(this.props);\n        return (<CalendarList {...calendarListProps} ref={this.calendar} current={getCalendarDateString(this.currentMonth.toString())} markedDates={this.generateMarkings(this.state.selectedDay, markedDates, items)} calendarWidth={this.viewWidth} scrollEnabled={this.state.calendarScrollable} hideExtraDays={shouldHideExtraDays} onLayout={this.onCalendarListLayout} onDayPress={this.onDayPress} onVisibleMonthsChange={this.onVisibleMonthsChange}/>);\n    }\n    renderKnob() {\n        const { showClosingKnob, hideKnob, renderKnob } = this.props;\n        let knob = <View style={this.style.knobContainer}/>;\n        if (!hideKnob) {\n            const knobView = renderKnob ? renderKnob() : <View style={this.style.knob}/>;\n            knob = !this.state.calendarScrollable || showClosingKnob ? (<View style={this.style.knobContainer}>\n          <View ref={this.knob}>{knobView}</View>\n        </View>) : null;\n        }\n        return knob;\n    }\n    renderWeekDaysNames = () => {\n        return (<WeekDaysNames firstDay={this.props.firstDay} style={this.style.dayHeader}/>);\n    };\n    renderWeekNumbersSpace = () => {\n        return this.props.showWeekNumbers && <View style={this.style.dayHeader}/>;\n    };\n    render() {\n        const { hideKnob, style, testID } = this.props;\n        const agendaHeight = this.initialScrollPadPosition();\n        const weekdaysStyle = [\n            this.style.weekdays,\n            {\n                opacity: this.state.scrollY.interpolate({\n                    inputRange: [agendaHeight - HEADER_HEIGHT, agendaHeight],\n                    outputRange: [0, 1],\n                    extrapolate: 'clamp'\n                }),\n                transform: [\n                    {\n                        translateY: this.state.scrollY.interpolate({\n                            inputRange: [Math.max(0, agendaHeight - HEADER_HEIGHT), agendaHeight],\n                            outputRange: [-HEADER_HEIGHT, 0],\n                            extrapolate: 'clamp'\n                        })\n                    }\n                ]\n            }\n        ];\n        const headerTranslate = this.state.scrollY.interpolate({\n            inputRange: [0, agendaHeight],\n            outputRange: [agendaHeight, 0],\n            extrapolate: 'clamp'\n        });\n        const contentTranslate = this.state.scrollY.interpolate({\n            inputRange: [0, agendaHeight],\n            outputRange: [0, agendaHeight / 2],\n            extrapolate: 'clamp'\n        });\n        const headerStyle = [\n            this.style.header,\n            {\n                bottom: agendaHeight,\n                transform: [{ translateY: headerTranslate }]\n            }\n        ];\n        if (!this.state.calendarIsReady) {\n            // limit header height until everything is setup for calendar dragging\n            headerStyle.push({ height: 0 });\n            // fill header with appStyle.calendarBackground background to reduce flickering\n            weekdaysStyle.push({ height: HEADER_HEIGHT });\n        }\n        const openCalendarScrollPadPosition = !hideKnob && this.state.calendarScrollable && this.props.showClosingKnob ? agendaHeight + HEADER_HEIGHT : 0;\n        const shouldAllowDragging = !hideKnob && !this.state.calendarScrollable;\n        const scrollPadPosition = (shouldAllowDragging ? HEADER_HEIGHT : openCalendarScrollPadPosition) - KNOB_HEIGHT;\n        const scrollPadStyle = {\n            height: KNOB_HEIGHT,\n            top: scrollPadPosition\n        };\n        return (<View testID={testID} onLayout={this.onLayout} style={[style, this.style.container]}>\n        <View style={this.style.reservations}>{this.renderReservations()}</View>\n        <Animated.View style={headerStyle}>\n          <Animated.View style={[this.style.animatedContainer, { transform: [{ translateY: contentTranslate }] }]}>\n            {this.renderCalendarList()}\n          </Animated.View>\n          {this.renderKnob()}\n        </Animated.View>\n        <Animated.View style={weekdaysStyle}>\n          {this.renderWeekNumbersSpace()}\n          {this.renderWeekDaysNames()}\n        </Animated.View>\n        <Animated.ScrollView ref={this.scrollPad} style={[this.style.scrollPadStyle, scrollPadStyle]} overScrollMode=\"never\" showsHorizontalScrollIndicator={false} showsVerticalScrollIndicator={false} scrollEventThrottle={8} scrollsToTop={false} onTouchStart={this.onTouchStart} onTouchEnd={this.onTouchEnd} onScrollBeginDrag={this.onStartDrag} onScrollEndDrag={this.onSnapAfterDrag} onScroll={Animated.event([{ nativeEvent: { contentOffset: { y: this.state.scrollY } } }], { useNativeDriver: true })}>\n          <View testID={AGENDA_CALENDAR_KNOB} style={{ height: agendaHeight + KNOB_HEIGHT }} onLayout={this.onScrollPadLayout}/>\n        </Animated.ScrollView>\n      </View>);\n    }\n}\nexport default Agenda;\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}