{"ast":null,"code":"import _objectWithoutPropertiesLoose from\"@babel/runtime/helpers/objectWithoutPropertiesLoose\";const _excluded=[\"context\",\"markedDates\"],_excluded2=[\"context\",\"markedDates\"];import XDate from'xdate';import React,{useRef,useMemo,useCallback}from'react';import View from\"react-native-web/dist/exports/View\";import isEqual from'lodash/isEqual';import{getPartialWeekDates,getWeekDates,sameMonth}from'../dateutils';import{parseDate,toMarkingFormat}from'../interface';import{getState}from'../day-state-manager';import{extractDayProps}from'../componentUpdater';import styleConstructor from'./style';import Day from'../calendar/day/index';import{jsx as _jsx}from\"react/jsx-runtime\";function arePropsEqual(prevProps,nextProps){const{context:prevContext,markedDates:prevMarkings}=prevProps,prevOthers=_objectWithoutPropertiesLoose(prevProps,_excluded);const{context:nextContext,markedDates:nextMarkings}=nextProps,nextOthers=_objectWithoutPropertiesLoose(nextProps,_excluded2);return isEqual(prevContext,nextContext)&&isEqual(prevMarkings,nextMarkings)&&isEqual(prevOthers,nextOthers);}const Week=React.memo(props=>{const{theme,current,firstDay,hideExtraDays,markedDates,onDayPress,onDayLongPress,style:propsStyle,numberOfDays=1,timelineLeftInset,testID}=props;const style=useRef(styleConstructor(theme));const disableDaySelection=useMemo(()=>{return!!numberOfDays&&numberOfDays>1;},[numberOfDays]);const getWeek=useCallback(date=>{if(date){return getWeekDates(date,firstDay);}},[firstDay]);const partialWeekStyle=useMemo(()=>{return[style.current.partialWeek,{paddingLeft:timelineLeftInset}];},[timelineLeftInset]);const dayProps=extractDayProps(props);const currXdate=useMemo(()=>parseDate(current),[current]);const renderDay=(day,id)=>{if(current&&hideExtraDays){if(!sameMonth(day,currXdate)){return _jsx(View,{style:style.current.emptyDayContainer},id);}}const dayString=toMarkingFormat(day);return _jsx(View,{style:style.current.dayContainer,children:_jsx(Day,Object.assign({},dayProps,{testID:`${testID}.day_${dayString}`,date:dayString,state:getState(day,currXdate,props,disableDaySelection),marking:disableDaySelection?Object.assign({},markedDates?.[dayString],{disableTouchEvent:true}):markedDates?.[dayString],onPress:onDayPress,onLongPress:onDayLongPress}))},id);};const renderWeek=()=>{const dates=numberOfDays>1?getPartialWeekDates(current,numberOfDays):getWeek(current);const week=[];if(dates){const todayIndex=dates?.indexOf(parseDate(new Date()))||-1;const sliced=dates.slice(todayIndex,numberOfDays);const datesToRender=numberOfDays>1&&todayIndex>-1?sliced:dates;datesToRender.forEach((day,id)=>{const d=day instanceof XDate?day:new XDate(day);week.push(renderDay(d,id));},this);}return week;};return _jsx(View,{style:style.current.container,testID:`${testID}.week_${current}`,children:_jsx(View,{style:[style.current.week,numberOfDays>1?partialWeekStyle:undefined,propsStyle],children:renderWeek()})});},arePropsEqual);export default Week;Week.displayName='Week';","map":{"version":3,"names":["XDate","React","useRef","useMemo","useCallback","View","isEqual","getPartialWeekDates","getWeekDates","sameMonth","parseDate","toMarkingFormat","getState","extractDayProps","styleConstructor","Day","jsx","_jsx","arePropsEqual","prevProps","nextProps","context","prevContext","markedDates","prevMarkings","prevOthers","_objectWithoutPropertiesLoose","_excluded","nextContext","nextMarkings","nextOthers","_excluded2","Week","memo","props","theme","current","firstDay","hideExtraDays","onDayPress","onDayLongPress","style","propsStyle","numberOfDays","timelineLeftInset","testID","disableDaySelection","getWeek","date","partialWeekStyle","partialWeek","paddingLeft","dayProps","currXdate","renderDay","day","id","emptyDayContainer","dayString","dayContainer","children","Object","assign","state","marking","disableTouchEvent","onPress","onLongPress","renderWeek","dates","week","todayIndex","indexOf","Date","sliced","slice","datesToRender","forEach","d","push","container","undefined","displayName"],"sources":["C:/Users/chaud/radha-counter/node_modules/react-native-calendars/src/expandableCalendar/week.js"],"sourcesContent":["import XDate from 'xdate';\nimport React, { useRef, useMemo, useCallback } from 'react';\nimport { View } from 'react-native';\nimport isEqual from 'lodash/isEqual';\nimport { getPartialWeekDates, getWeekDates, sameMonth } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport { getState } from '../day-state-manager';\nimport { extractDayProps } from '../componentUpdater';\nimport styleConstructor from './style';\nimport Day from '../calendar/day/index';\nfunction arePropsEqual(prevProps, nextProps) {\n    const { context: prevContext, markedDates: prevMarkings, ...prevOthers } = prevProps;\n    const { context: nextContext, markedDates: nextMarkings, ...nextOthers } = nextProps;\n    return isEqual(prevContext, nextContext) && isEqual(prevMarkings, nextMarkings) && isEqual(prevOthers, nextOthers);\n}\nconst Week = React.memo((props) => {\n    const { theme, current, firstDay, hideExtraDays, markedDates, onDayPress, onDayLongPress, style: propsStyle, numberOfDays = 1, timelineLeftInset, testID } = props;\n    const style = useRef(styleConstructor(theme));\n    const disableDaySelection = useMemo(() => {\n        return !!numberOfDays && numberOfDays > 1;\n    }, [numberOfDays]);\n    const getWeek = useCallback((date) => {\n        if (date) {\n            return getWeekDates(date, firstDay);\n        }\n    }, [firstDay]);\n    const partialWeekStyle = useMemo(() => {\n        return [style.current.partialWeek, { paddingLeft: timelineLeftInset }];\n    }, [timelineLeftInset]);\n    const dayProps = extractDayProps(props);\n    const currXdate = useMemo(() => parseDate(current), [current]);\n    const renderDay = (day, id) => {\n        // hide extra days\n        if (current && hideExtraDays) {\n            if (!sameMonth(day, currXdate)) {\n                return <View key={id} style={style.current.emptyDayContainer}/>;\n            }\n        }\n        const dayString = toMarkingFormat(day);\n        return (<View style={style.current.dayContainer} key={id}>\n        <Day {...dayProps} testID={`${testID}.day_${dayString}`} date={dayString} state={getState(day, currXdate, props, disableDaySelection)} marking={disableDaySelection ? { ...markedDates?.[dayString], disableTouchEvent: true } : markedDates?.[dayString]} onPress={onDayPress} onLongPress={onDayLongPress}/>\n      </View>);\n    };\n    const renderWeek = () => {\n        const dates = numberOfDays > 1 ? getPartialWeekDates(current, numberOfDays) : getWeek(current);\n        const week = [];\n        if (dates) {\n            const todayIndex = dates?.indexOf(parseDate(new Date())) || -1;\n            const sliced = dates.slice(todayIndex, numberOfDays);\n            const datesToRender = numberOfDays > 1 && todayIndex > -1 ? sliced : dates;\n            datesToRender.forEach((day, id) => {\n                const d = day instanceof XDate ? day : new XDate(day);\n                week.push(renderDay(d, id));\n            }, this);\n        }\n        return week;\n    };\n    return (<View style={style.current.container} testID={`${testID}.week_${current}`}>\n      <View style={[style.current.week, numberOfDays > 1 ? partialWeekStyle : undefined, propsStyle]}>\n        {renderWeek()}\n      </View>\n    </View>);\n}, arePropsEqual);\nexport default Week;\nWeek.displayName = 'Week';\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}