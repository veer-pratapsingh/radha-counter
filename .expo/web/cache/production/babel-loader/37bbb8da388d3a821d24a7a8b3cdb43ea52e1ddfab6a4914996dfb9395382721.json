{"ast":null,"code":"import _objectWithoutPropertiesLoose from\"@babel/runtime/helpers/objectWithoutPropertiesLoose\";const _excluded=[\"initialPosition\",\"onCalendarToggled\",\"disablePan\",\"hideKnob\",\"leftArrowImageSource\",\"rightArrowImageSource\",\"allowShadow\",\"disableWeekScroll\",\"openThreshold\",\"closeThreshold\",\"closeOnDayPress\",\"horizontal\",\"calendarStyle\",\"theme\",\"style\",\"firstDay\",\"onDayPress\",\"hideArrows\",\"onPressArrowLeft\",\"onPressArrowRight\",\"renderArrow\",\"testID\"];import first from'lodash/first';import isFunction from'lodash/isFunction';import isNumber from'lodash/isNumber';import throttle from'lodash/throttle';import XDate from'xdate';import React,{useContext,useRef,useState,useEffect,useCallback,useMemo,useImperativeHandle,forwardRef}from'react';import AccessibilityInfo from\"react-native-web/dist/exports/AccessibilityInfo\";import PanResponder from\"react-native-web/dist/exports/PanResponder\";import Animated from\"react-native-web/dist/exports/Animated\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{page}from'../dateutils';import{parseDate,toMarkingFormat}from'../interface';import styleConstructor,{KNOB_CONTAINER_HEIGHT}from'./style';import WeekDaysNames from'../commons/WeekDaysNames';import Calendar from'../calendar';import CalendarList from'../calendar-list';import Week from'./week';import WeekCalendar from'./WeekCalendar';import Context from'./Context';import constants from'../commons/constants';import{UpdateSources,CalendarNavigationTypes}from'./commons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export var Positions;(function(Positions){Positions[\"CLOSED\"]=\"closed\";Positions[\"OPEN\"]=\"open\";})(Positions||(Positions={}));const SPEED=20;const BOUNCINESS=6;const WEEK_HEIGHT=46;const DAY_NAMES_PADDING=24;const PAN_GESTURE_THRESHOLD=30;const LEFT_ARROW=require('../calendar/img/previous.png');const RIGHT_ARROW=require('../calendar/img/next.png');const knobHitSlop={left:10,right:10,top:10,bottom:10};const DEFAULT_HEADER_HEIGHT=78;const headerStyleOverride={stylesheet:{calendar:{header:{week:{marginTop:7,marginBottom:-4,flexDirection:'row',justifyContent:'space-around'}}}}};const ExpandableCalendar=forwardRef((props,ref)=>{const _context=useContext(Context);const{date,setDate,numberOfDays,timelineLeftInset}=_context;const{initialPosition=Positions.CLOSED,onCalendarToggled,disablePan,hideKnob=numberOfDays&&numberOfDays>1,leftArrowImageSource=LEFT_ARROW,rightArrowImageSource=RIGHT_ARROW,allowShadow=true,disableWeekScroll,openThreshold=PAN_GESTURE_THRESHOLD,closeThreshold=PAN_GESTURE_THRESHOLD,closeOnDayPress=true,horizontal=true,calendarStyle,theme,style:propsStyle,firstDay=0,onDayPress,hideArrows,onPressArrowLeft,onPressArrowRight,renderArrow,testID}=props,others=_objectWithoutPropertiesLoose(props,_excluded);const[screenReaderEnabled,setScreenReaderEnabled]=useState(false);const[headerHeight,setHeaderHeight]=useState(0);const onHeaderLayout=useCallback(({nativeEvent:{layout:{height}}})=>{setHeaderHeight(height||DEFAULT_HEADER_HEIGHT);},[]);const getYear=date=>{const d=new XDate(date);return d.getFullYear();};const getMonth=date=>{const d=new XDate(date);return d.getMonth()+1;};const visibleMonth=useRef(getMonth(date));const visibleYear=useRef(getYear(date));const isLaterDate=(date1,date2)=>{if(date1&&date2){if(date1.year>getYear(date2)){return true;}if(date1.year===getYear(date2)){if(date1.month>getMonth(date2)){return true;}}}return false;};useEffect(()=>{scrollToDate(date);},[date]);const getNumberOfWeeksInMonth=month=>{const days=page(new XDate(month),firstDay);return days.length/7;};const numberOfWeeks=useRef(getNumberOfWeeksInMonth(date));const[position,setPosition]=useState(numberOfDays?Positions.CLOSED:initialPosition);const isOpen=position===Positions.OPEN;const getOpenHeight=useCallback(()=>{if(!horizontal){return Math.max(constants.screenHeight,constants.screenWidth);}return headerHeight+WEEK_HEIGHT*numberOfWeeks.current+(hideKnob?0:KNOB_CONTAINER_HEIGHT);},[headerHeight,horizontal,hideKnob,numberOfWeeks]);const openHeight=useRef(getOpenHeight());const closedHeight=useMemo(()=>headerHeight+WEEK_HEIGHT+(hideKnob||Number(numberOfDays)>1?0:KNOB_CONTAINER_HEIGHT),[numberOfDays,hideKnob,headerHeight]);const startHeight=useMemo(()=>isOpen?getOpenHeight():closedHeight,[closedHeight,isOpen,getOpenHeight]);const _height=useRef(startHeight);const deltaY=useMemo(()=>new Animated.Value(startHeight),[startHeight]);const headerDeltaY=useRef(new Animated.Value(isOpen?-headerHeight:0));useEffect(()=>{_height.current=startHeight;deltaY.setValue(startHeight);_wrapperStyles.current.style.height=startHeight;},[startHeight]);useEffect(()=>{openHeight.current=getOpenHeight();},[headerHeight]);useEffect(()=>{if(numberOfDays){setPosition(Positions.CLOSED);}},[numberOfDays]);const wrapper=useRef();const calendarList=useRef();const header=useRef();const weekCalendarWrapper=useRef();const style=useRef(styleConstructor(theme));const themeObject=Object.assign(headerStyleOverride,theme);const _wrapperStyles=useRef({style:{height:startHeight}});const _headerStyles={style:{top:isOpen?-headerHeight:0}};const _weekCalendarStyles={style:{opacity:isOpen?0:1}};const shouldHideArrows=!horizontal?true:hideArrows||false;const updateNativeStyles=()=>{wrapper?.current?.setNativeProps(_wrapperStyles.current);if(!horizontal){header?.current?.setNativeProps(_headerStyles);}else{weekCalendarWrapper?.current?.setNativeProps(_weekCalendarStyles);}};const weekDaysStyle=useMemo(()=>{const leftPaddings=calendarStyle?.paddingLeft;const rightPaddings=calendarStyle?.paddingRight;return[style.current.weekDayNames,{paddingLeft:isNumber(leftPaddings)?leftPaddings+6:DAY_NAMES_PADDING,paddingRight:isNumber(rightPaddings)?rightPaddings+6:DAY_NAMES_PADDING}];},[calendarStyle]);const animatedHeaderStyle=useMemo(()=>{return[style.current.header,{height:headerHeight,top:headerDeltaY.current}];},[headerDeltaY.current,headerHeight]);const weekCalendarStyle=useMemo(()=>{return[style.current.weekContainer,isOpen?style.current.hidden:style.current.visible,{top:headerHeight}];},[isOpen,headerHeight]);const containerStyle=useMemo(()=>{return[allowShadow&&style.current.containerShadow,propsStyle,headerHeight===0&&style.current.hidden,{overflow:'hidden'}];},[allowShadow,propsStyle,headerHeight]);const wrapperStyle=useMemo(()=>{return{height:deltaY};},[deltaY]);const numberOfDaysHeaderStyle=useMemo(()=>{if(numberOfDays&&numberOfDays>1){return{paddingHorizontal:0};}},[numberOfDays]);const _headerStyle=useMemo(()=>{return[numberOfDaysHeaderStyle,props.headerStyle];},[props.headerStyle,numberOfDaysHeaderStyle]);useEffect(()=>{if(AccessibilityInfo){if(AccessibilityInfo.isScreenReaderEnabled){AccessibilityInfo.isScreenReaderEnabled().then(handleScreenReaderStatus);}else if(AccessibilityInfo.fetch){AccessibilityInfo.fetch().then(handleScreenReaderStatus);}}},[]);const handleScreenReaderStatus=screenReaderEnabled=>{setScreenReaderEnabled(screenReaderEnabled);};const scrollToDate=date=>{if(!horizontal){calendarList?.current?.scrollToDay(date,0,true);}else if(getYear(date)!==visibleYear.current||getMonth(date)!==visibleMonth.current){calendarList?.current?.scrollToMonth(date);}};const scrollPage=useCallback((next,updateSource=UpdateSources.PAGE_SCROLL)=>{if(horizontal){const d=parseDate(date);if(isOpen){d.setDate(1);d.addMonths(next?1:-1);}else{let dayOfTheWeek=d.getDay();if(dayOfTheWeek<firstDay&&firstDay>0){dayOfTheWeek=7+dayOfTheWeek;}if(numberOfDays){const daysToAdd=numberOfDays<=1?7:numberOfDays;d.addDays(next?daysToAdd:-daysToAdd);}else{const firstDayOfWeek=(next?7:-7)-dayOfTheWeek+firstDay;d.addDays(firstDayOfWeek);}}setDate?.(toMarkingFormat(d),updateSource);}},[horizontal,isOpen,firstDay,numberOfDays,setDate,date]);const handleMoveShouldSetPanResponder=(_,gestureState)=>{if(disablePan){return false;}if(!horizontal&&isOpen){return false;}if(!isOpen&&gestureState.dy<0){return false;}return gestureState.dy>5||gestureState.dy<-5;};const handlePanResponderMove=(_,gestureState)=>{_wrapperStyles.current.style.height=Math.min(Math.max(closedHeight,_height.current+gestureState.dy),openHeight.current);if(!horizontal){_headerStyles.style.top=Math.min(Math.max(-gestureState.dy,-headerHeight),0);}else{if(!isOpen){_weekCalendarStyles.style.opacity=Math.min(1,Math.max(1-gestureState.dy/100,0));}else if(gestureState.dy<0){_weekCalendarStyles.style.opacity=Math.max(0,Math.min(Math.abs(gestureState.dy/200),1));}}updateNativeStyles();};const handlePanResponderEnd=()=>{_height.current=Number(_wrapperStyles.current.style.height);bounceToPosition();};const numberOfDaysCondition=useMemo(()=>{return!numberOfDays||numberOfDays&&numberOfDays<=1;},[numberOfDays]);const panResponder=useMemo(()=>numberOfDaysCondition?PanResponder.create({onMoveShouldSetPanResponder:handleMoveShouldSetPanResponder,onPanResponderMove:handlePanResponderMove,onPanResponderRelease:handlePanResponderEnd,onPanResponderTerminate:handlePanResponderEnd}):PanResponder.create({}),[numberOfDays,position,headerHeight]);const bounceToPosition=(toValue=0)=>{const threshold=isOpen?openHeight.current-closeThreshold:closedHeight+openThreshold;let _isOpen=_height.current>=threshold;const newValue=_isOpen?openHeight.current:closedHeight;deltaY.setValue(_height.current);_height.current=toValue||newValue;_isOpen=_height.current>=threshold;resetWeekCalendarOpacity(_isOpen);Animated.spring(deltaY,{toValue:_height.current,speed:SPEED,bounciness:BOUNCINESS,useNativeDriver:false}).start(()=>{onCalendarToggled?.(_isOpen);setPosition(()=>_height.current===closedHeight?Positions.CLOSED:Positions.OPEN);});toggleAnimatedHeader(_isOpen);};const resetWeekCalendarOpacity=async isOpen=>{_weekCalendarStyles.style.opacity=isOpen?0:1;updateNativeStyles();};const toggleAnimatedHeader=isOpen=>{headerDeltaY.current.setValue(Number(_headerStyles.style.top));if(!horizontal){Animated.spring(headerDeltaY.current,{toValue:isOpen?-headerHeight:0,speed:SPEED/10,bounciness:1,useNativeDriver:false}).start();}};const closeCalendar=useCallback(()=>{setTimeout(()=>{if(isOpen){bounceToPosition(closedHeight);}},0);},[isOpen,closedHeight]);const toggleCalendarPosition=useCallback(()=>{bounceToPosition(isOpen?closedHeight:openHeight.current);return!isOpen;},[isOpen,bounceToPosition,closedHeight]);useImperativeHandle(ref,()=>({toggleCalendarPosition}),[toggleCalendarPosition]);const _onPressArrowLeft=useCallback((method,month)=>{onPressArrowLeft?.(method,month);scrollPage(false,isOpen?UpdateSources.ARROW_PRESS:UpdateSources.WEEK_ARROW_PRESS);},[onPressArrowLeft,scrollPage]);const _onPressArrowRight=useCallback((method,month)=>{onPressArrowRight?.(method,month);scrollPage(true,isOpen?UpdateSources.ARROW_PRESS:UpdateSources.WEEK_ARROW_PRESS);},[onPressArrowRight,scrollPage]);const _onDayPress=useCallback(value=>{if(numberOfDaysCondition){setDate?.(value.dateString,UpdateSources.DAY_PRESS);}if(closeOnDayPress&&!disablePan){closeCalendar();}onDayPress?.(value);},[onDayPress,closeOnDayPress,closeCalendar,numberOfDaysCondition]);const onVisibleMonthsChange=useCallback(throttle(value=>{const newDate=first(value);if(newDate){const month=newDate.month;if(month&&visibleMonth.current!==month){visibleMonth.current=month;const year=newDate.year;if(year){visibleYear.current=year;}if(visibleMonth.current!==getMonth(date)){const next=isLaterDate(newDate,date);scrollPage(next);}setTimeout(()=>{const _numberOfWeeks=getNumberOfWeeksInMonth(newDate.dateString);if(_numberOfWeeks!==numberOfWeeks.current){numberOfWeeks.current=_numberOfWeeks;openHeight.current=getOpenHeight();if(isOpen){bounceToPosition(openHeight.current);}}},0);}}},100,{trailing:true,leading:false}),[date,scrollPage]);const _renderArrow=useCallback(direction=>{if(isFunction(renderArrow)){return renderArrow(direction);}return _jsx(Image,{source:direction==='right'?rightArrowImageSource:leftArrowImageSource,style:style.current.arrowImage,testID:`${testID}.${direction}Arrow`});},[renderArrow,rightArrowImageSource,leftArrowImageSource,testID]);const renderWeekDaysNames=()=>{return _jsx(View,{style:weekDaysStyle,children:_jsx(WeekDaysNames,{firstDay:firstDay,style:style.current.dayHeader})});};const renderAnimatedHeader=()=>{const monthYear=new XDate(date)?.toString('MMMM yyyy');return _jsxs(Animated.View,{ref:header,style:animatedHeaderStyle,pointerEvents:'none',children:[_jsx(Text,{allowFontScaling:false,style:style.current.headerTitle,children:monthYear}),renderWeekDaysNames()]});};const renderKnob=()=>{return _jsx(View,{style:style.current.knobContainer,pointerEvents:'box-none',children:_jsx(TouchableOpacity,{style:style.current.knob,testID:`${testID}.knob`,onPress:toggleCalendarPosition,hitSlop:knobHitSlop})});};const renderWeekCalendar=()=>{const WeekComponent=disableWeekScroll?Week:WeekCalendar;return _jsx(Animated.View,{ref:weekCalendarWrapper,style:weekCalendarStyle,pointerEvents:isOpen?'none':'auto',children:_jsx(WeekComponent,Object.assign({testID:`${testID}.weekCalendar`,firstDay:firstDay},others,{allowShadow:disableWeekScroll?undefined:false,current:disableWeekScroll?date:undefined,theme:themeObject,style:calendarStyle,hideDayNames:true,onDayPress:_onDayPress,accessibilityElementsHidden:true,importantForAccessibility:'no-hide-descendants'}))});};const renderCalendarList=()=>{return _jsx(CalendarList,Object.assign({testID:`${testID}.calendarList`,horizontal:horizontal,firstDay:firstDay,calendarStyle:calendarStyle,onHeaderLayout:onHeaderLayout},others,{current:date,theme:themeObject,ref:calendarList,onDayPress:_onDayPress,onVisibleMonthsChange:onVisibleMonthsChange,pagingEnabled:true,scrollEnabled:isOpen,hideArrows:shouldHideArrows,onPressArrowLeft:_onPressArrowLeft,onPressArrowRight:_onPressArrowRight,hideExtraDays:!horizontal&&isOpen,renderArrow:_renderArrow,staticHeader:true,numberOfDays:numberOfDays,headerStyle:_headerStyle,timelineLeftInset:timelineLeftInset,context:_context}));};return _jsx(View,{testID:testID,style:containerStyle,children:screenReaderEnabled?_jsx(Calendar,Object.assign({testID:`${testID}.calendarAccessible`},others,{theme:themeObject,onHeaderLayout:onHeaderLayout,onDayPress:_onDayPress,hideExtraDays:true,renderArrow:_renderArrow})):_jsxs(Animated.View,Object.assign({testID:`${testID}.expandableContainer`,ref:wrapper,style:wrapperStyle},panResponder.panHandlers,{children:[renderCalendarList(),renderWeekCalendar(),!hideKnob&&renderKnob(),!horizontal&&renderAnimatedHeader()]}))});});export default Object.assign(ExpandableCalendar,{displayName:'ExpandableCalendar',positions:Positions,navigationTypes:CalendarNavigationTypes,defaultProps:{horizontal:true,initialPosition:Positions.CLOSED,firstDay:0,leftArrowImageSource:LEFT_ARROW,rightArrowImageSource:RIGHT_ARROW,allowShadow:true,openThreshold:PAN_GESTURE_THRESHOLD,closeThreshold:PAN_GESTURE_THRESHOLD,closeOnDayPress:true}});","map":{"version":3,"names":["first","isFunction","isNumber","throttle","XDate","React","useContext","useRef","useState","useEffect","useCallback","useMemo","useImperativeHandle","forwardRef","AccessibilityInfo","PanResponder","Animated","View","Text","Image","TouchableOpacity","page","parseDate","toMarkingFormat","styleConstructor","KNOB_CONTAINER_HEIGHT","WeekDaysNames","Calendar","CalendarList","Week","WeekCalendar","Context","constants","UpdateSources","CalendarNavigationTypes","jsx","_jsx","jsxs","_jsxs","Positions","SPEED","BOUNCINESS","WEEK_HEIGHT","DAY_NAMES_PADDING","PAN_GESTURE_THRESHOLD","LEFT_ARROW","require","RIGHT_ARROW","knobHitSlop","left","right","top","bottom","DEFAULT_HEADER_HEIGHT","headerStyleOverride","stylesheet","calendar","header","week","marginTop","marginBottom","flexDirection","justifyContent","ExpandableCalendar","props","ref","_context","date","setDate","numberOfDays","timelineLeftInset","initialPosition","CLOSED","onCalendarToggled","disablePan","hideKnob","leftArrowImageSource","rightArrowImageSource","allowShadow","disableWeekScroll","openThreshold","closeThreshold","closeOnDayPress","horizontal","calendarStyle","theme","style","propsStyle","firstDay","onDayPress","hideArrows","onPressArrowLeft","onPressArrowRight","renderArrow","testID","others","_objectWithoutPropertiesLoose","_excluded","screenReaderEnabled","setScreenReaderEnabled","headerHeight","setHeaderHeight","onHeaderLayout","nativeEvent","layout","height","getYear","d","getFullYear","getMonth","visibleMonth","visibleYear","isLaterDate","date1","date2","year","month","scrollToDate","getNumberOfWeeksInMonth","days","length","numberOfWeeks","position","setPosition","isOpen","OPEN","getOpenHeight","Math","max","screenHeight","screenWidth","current","openHeight","closedHeight","Number","startHeight","_height","deltaY","Value","headerDeltaY","setValue","_wrapperStyles","wrapper","calendarList","weekCalendarWrapper","themeObject","Object","assign","_headerStyles","_weekCalendarStyles","opacity","shouldHideArrows","updateNativeStyles","setNativeProps","weekDaysStyle","leftPaddings","paddingLeft","rightPaddings","paddingRight","weekDayNames","animatedHeaderStyle","weekCalendarStyle","weekContainer","hidden","visible","containerStyle","containerShadow","overflow","wrapperStyle","numberOfDaysHeaderStyle","paddingHorizontal","_headerStyle","headerStyle","isScreenReaderEnabled","then","handleScreenReaderStatus","fetch","scrollToDay","scrollToMonth","scrollPage","next","updateSource","PAGE_SCROLL","addMonths","dayOfTheWeek","getDay","daysToAdd","addDays","firstDayOfWeek","handleMoveShouldSetPanResponder","_","gestureState","dy","handlePanResponderMove","min","abs","handlePanResponderEnd","bounceToPosition","numberOfDaysCondition","panResponder","create","onMoveShouldSetPanResponder","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","toValue","threshold","_isOpen","newValue","resetWeekCalendarOpacity","spring","speed","bounciness","useNativeDriver","start","toggleAnimatedHeader","closeCalendar","setTimeout","toggleCalendarPosition","_onPressArrowLeft","method","ARROW_PRESS","WEEK_ARROW_PRESS","_onPressArrowRight","_onDayPress","value","dateString","DAY_PRESS","onVisibleMonthsChange","newDate","_numberOfWeeks","trailing","leading","_renderArrow","direction","source","arrowImage","renderWeekDaysNames","children","dayHeader","renderAnimatedHeader","monthYear","toString","pointerEvents","allowFontScaling","headerTitle","renderKnob","knobContainer","knob","onPress","hitSlop","renderWeekCalendar","WeekComponent","undefined","hideDayNames","accessibilityElementsHidden","importantForAccessibility","renderCalendarList","pagingEnabled","scrollEnabled","hideExtraDays","staticHeader","context","panHandlers","displayName","positions","navigationTypes","defaultProps"],"sources":["C:/Users/chaud/radha-counter/node_modules/react-native-calendars/src/expandableCalendar/index.js"],"sourcesContent":["import first from 'lodash/first';\nimport isFunction from 'lodash/isFunction';\nimport isNumber from 'lodash/isNumber';\nimport throttle from 'lodash/throttle';\nimport XDate from 'xdate';\nimport React, { useContext, useRef, useState, useEffect, useCallback, useMemo, useImperativeHandle, forwardRef } from 'react';\nimport { AccessibilityInfo, PanResponder, Animated, View, Text, Image, TouchableOpacity } from 'react-native';\nimport { page } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport styleConstructor, { KNOB_CONTAINER_HEIGHT } from './style';\nimport WeekDaysNames from '../commons/WeekDaysNames';\nimport Calendar from '../calendar';\nimport CalendarList from '../calendar-list';\nimport Week from './week';\nimport WeekCalendar from './WeekCalendar';\nimport Context from './Context';\nimport constants from '../commons/constants';\nimport { UpdateSources, CalendarNavigationTypes } from './commons';\nexport var Positions;\n(function (Positions) {\n    Positions[\"CLOSED\"] = \"closed\";\n    Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\nconst SPEED = 20;\nconst BOUNCINESS = 6;\nconst WEEK_HEIGHT = 46;\nconst DAY_NAMES_PADDING = 24;\nconst PAN_GESTURE_THRESHOLD = 30;\nconst LEFT_ARROW = require('../calendar/img/previous.png');\nconst RIGHT_ARROW = require('../calendar/img/next.png');\nconst knobHitSlop = { left: 10, right: 10, top: 10, bottom: 10 };\nconst DEFAULT_HEADER_HEIGHT = 78;\nconst headerStyleOverride = {\n    stylesheet: {\n        calendar: {\n            header: {\n                week: {\n                    marginTop: 7,\n                    marginBottom: -4,\n                    flexDirection: 'row',\n                    justifyContent: 'space-around'\n                }\n            }\n        }\n    }\n};\n/**\n * @description: Expandable calendar component\n * @note: Should be wrapped with 'CalendarProvider'\n * @extends: CalendarList\n * @extendslink: docs/CalendarList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst ExpandableCalendar = forwardRef((props, ref) => {\n    const _context = useContext(Context);\n    const { date, setDate, numberOfDays, timelineLeftInset } = _context;\n    const { \n    /** ExpandableCalendar props */\n    initialPosition = Positions.CLOSED, onCalendarToggled, disablePan, hideKnob = numberOfDays && numberOfDays > 1, leftArrowImageSource = LEFT_ARROW, rightArrowImageSource = RIGHT_ARROW, allowShadow = true, disableWeekScroll, openThreshold = PAN_GESTURE_THRESHOLD, closeThreshold = PAN_GESTURE_THRESHOLD, closeOnDayPress = true, \n    /** CalendarList props */\n    horizontal = true, calendarStyle, theme, style: propsStyle, firstDay = 0, onDayPress, hideArrows, onPressArrowLeft, onPressArrowRight, renderArrow, testID, ...others } = props;\n    const [screenReaderEnabled, setScreenReaderEnabled] = useState(false);\n    const [headerHeight, setHeaderHeight] = useState(0);\n    const onHeaderLayout = useCallback(({ nativeEvent: { layout: { height } } }) => {\n        setHeaderHeight(height || DEFAULT_HEADER_HEIGHT);\n    }, []);\n    /** Date */\n    const getYear = (date) => {\n        const d = new XDate(date);\n        return d.getFullYear();\n    };\n    const getMonth = (date) => {\n        const d = new XDate(date);\n        return d.getMonth() + 1; // getMonth() returns month's index' (0-11)\n    };\n    const visibleMonth = useRef(getMonth(date));\n    const visibleYear = useRef(getYear(date));\n    const isLaterDate = (date1, date2) => {\n        if (date1 && date2) {\n            if (date1.year > getYear(date2)) {\n                return true;\n            }\n            if (date1.year === getYear(date2)) {\n                if (date1.month > getMonth(date2)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    useEffect(() => {\n        // date was changed from AgendaList, arrows or scroll\n        scrollToDate(date);\n    }, [date]);\n    /** Number of weeks */\n    const getNumberOfWeeksInMonth = (month) => {\n        const days = page(new XDate(month), firstDay);\n        return days.length / 7;\n    };\n    const numberOfWeeks = useRef(getNumberOfWeeksInMonth(date));\n    /** Position */\n    const [position, setPosition] = useState(numberOfDays ? Positions.CLOSED : initialPosition);\n    const isOpen = position === Positions.OPEN;\n    const getOpenHeight = useCallback(() => {\n        if (!horizontal) {\n            return Math.max(constants.screenHeight, constants.screenWidth);\n        }\n        return headerHeight + (WEEK_HEIGHT * (numberOfWeeks.current)) + (hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\n    }, [headerHeight, horizontal, hideKnob, numberOfWeeks]);\n    const openHeight = useRef(getOpenHeight());\n    const closedHeight = useMemo(() => headerHeight + WEEK_HEIGHT + (hideKnob || Number(numberOfDays) > 1 ? 0 : KNOB_CONTAINER_HEIGHT), [numberOfDays, hideKnob, headerHeight]);\n    const startHeight = useMemo(() => isOpen ? getOpenHeight() : closedHeight, [closedHeight, isOpen, getOpenHeight]);\n    const _height = useRef(startHeight);\n    const deltaY = useMemo(() => new Animated.Value(startHeight), [startHeight]);\n    const headerDeltaY = useRef(new Animated.Value(isOpen ? -headerHeight : 0));\n    useEffect(() => {\n        _height.current = startHeight;\n        deltaY.setValue(startHeight);\n        _wrapperStyles.current.style.height = startHeight;\n    }, [startHeight]);\n    useEffect(() => {\n        openHeight.current = getOpenHeight();\n    }, [headerHeight]);\n    useEffect(() => {\n        if (numberOfDays) {\n            setPosition(Positions.CLOSED);\n        }\n    }, [numberOfDays]);\n    /** Components' refs */\n    const wrapper = useRef();\n    const calendarList = useRef();\n    const header = useRef();\n    const weekCalendarWrapper = useRef();\n    /** Styles */\n    const style = useRef(styleConstructor(theme));\n    const themeObject = Object.assign(headerStyleOverride, theme);\n    const _wrapperStyles = useRef({ style: { height: startHeight } });\n    const _headerStyles = { style: { top: isOpen ? -headerHeight : 0 } };\n    const _weekCalendarStyles = { style: { opacity: isOpen ? 0 : 1 } };\n    const shouldHideArrows = !horizontal ? true : hideArrows || false;\n    const updateNativeStyles = () => {\n        wrapper?.current?.setNativeProps(_wrapperStyles.current);\n        if (!horizontal) {\n            header?.current?.setNativeProps(_headerStyles);\n        }\n        else {\n            weekCalendarWrapper?.current?.setNativeProps(_weekCalendarStyles);\n        }\n    };\n    const weekDaysStyle = useMemo(() => {\n        const leftPaddings = calendarStyle?.paddingLeft;\n        const rightPaddings = calendarStyle?.paddingRight;\n        return [\n            style.current.weekDayNames,\n            {\n                paddingLeft: isNumber(leftPaddings) ? leftPaddings + 6 : DAY_NAMES_PADDING,\n                paddingRight: isNumber(rightPaddings) ? rightPaddings + 6 : DAY_NAMES_PADDING\n            }\n        ];\n    }, [calendarStyle]);\n    const animatedHeaderStyle = useMemo(() => {\n        return [style.current.header, { height: headerHeight, top: headerDeltaY.current }];\n    }, [headerDeltaY.current, headerHeight]);\n    const weekCalendarStyle = useMemo(() => {\n        return [style.current.weekContainer, isOpen ? style.current.hidden : style.current.visible, { top: headerHeight }];\n    }, [isOpen, headerHeight]);\n    const containerStyle = useMemo(() => {\n        return [allowShadow && style.current.containerShadow, propsStyle, headerHeight === 0 && style.current.hidden, { overflow: 'hidden' }];\n    }, [allowShadow, propsStyle, headerHeight]);\n    const wrapperStyle = useMemo(() => {\n        return { height: deltaY };\n    }, [deltaY]);\n    const numberOfDaysHeaderStyle = useMemo(() => {\n        if (numberOfDays && numberOfDays > 1) {\n            return { paddingHorizontal: 0 };\n        }\n    }, [numberOfDays]);\n    const _headerStyle = useMemo(() => {\n        return [numberOfDaysHeaderStyle, props.headerStyle];\n    }, [props.headerStyle, numberOfDaysHeaderStyle]);\n    /** AccessibilityInfo */\n    useEffect(() => {\n        if (AccessibilityInfo) {\n            if (AccessibilityInfo.isScreenReaderEnabled) {\n                AccessibilityInfo.isScreenReaderEnabled().then(handleScreenReaderStatus);\n                //@ts-expect-error\n            }\n            else if (AccessibilityInfo.fetch) {\n                // Support for older RN versions\n                //@ts-expect-error\n                AccessibilityInfo.fetch().then(handleScreenReaderStatus);\n            }\n        }\n    }, []);\n    const handleScreenReaderStatus = (screenReaderEnabled) => {\n        setScreenReaderEnabled(screenReaderEnabled);\n    };\n    /** Scroll */\n    const scrollToDate = (date) => {\n        if (!horizontal) {\n            calendarList?.current?.scrollToDay(date, 0, true);\n        }\n        else if (getYear(date) !== visibleYear.current || getMonth(date) !== visibleMonth.current) {\n            // don't scroll if the month is already visible\n            calendarList?.current?.scrollToMonth(date);\n        }\n    };\n    const scrollPage = useCallback((next, updateSource = UpdateSources.PAGE_SCROLL) => {\n        if (horizontal) {\n            const d = parseDate(date);\n            if (isOpen) {\n                d.setDate(1);\n                d.addMonths(next ? 1 : -1);\n            }\n            else {\n                let dayOfTheWeek = d.getDay();\n                if (dayOfTheWeek < firstDay && firstDay > 0) {\n                    dayOfTheWeek = 7 + dayOfTheWeek;\n                }\n                if (numberOfDays) {\n                    const daysToAdd = numberOfDays <= 1 ? 7 : numberOfDays;\n                    d.addDays(next ? daysToAdd : -daysToAdd);\n                }\n                else {\n                    const firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n                    d.addDays(firstDayOfWeek);\n                }\n            }\n            setDate?.(toMarkingFormat(d), updateSource);\n        }\n    }, [horizontal, isOpen, firstDay, numberOfDays, setDate, date]);\n    /** Pan Gesture */\n    const handleMoveShouldSetPanResponder = (_, gestureState) => {\n        if (disablePan) {\n            return false;\n        }\n        if (!horizontal && isOpen) {\n            // disable pan detection when vertical calendar is open to allow calendar scroll\n            return false;\n        }\n        if (!isOpen && gestureState.dy < 0) {\n            // disable pan detection to limit to closed height\n            return false;\n        }\n        return gestureState.dy > 5 || gestureState.dy < -5;\n    };\n    const handlePanResponderMove = (_, gestureState) => {\n        // limit min height to closed height and max to open height\n        _wrapperStyles.current.style.height = Math.min(Math.max(closedHeight, _height.current + gestureState.dy), openHeight.current);\n        if (!horizontal) {\n            // vertical CalenderList header\n            _headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -headerHeight), 0);\n        }\n        else {\n            // horizontal Week view\n            if (!isOpen) {\n                _weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n            }\n            else if (gestureState.dy < 0) {\n                _weekCalendarStyles.style.opacity = Math.max(0, Math.min(Math.abs(gestureState.dy / 200), 1));\n            }\n        }\n        updateNativeStyles();\n    };\n    const handlePanResponderEnd = () => {\n        _height.current = Number(_wrapperStyles.current.style.height);\n        bounceToPosition();\n    };\n    const numberOfDaysCondition = useMemo(() => {\n        return !numberOfDays || numberOfDays && numberOfDays <= 1;\n    }, [numberOfDays]);\n    const panResponder = useMemo(() => numberOfDaysCondition ? PanResponder.create({\n        onMoveShouldSetPanResponder: handleMoveShouldSetPanResponder,\n        onPanResponderMove: handlePanResponderMove,\n        onPanResponderRelease: handlePanResponderEnd,\n        onPanResponderTerminate: handlePanResponderEnd\n    }) : PanResponder.create({}), [numberOfDays, position, headerHeight]); // All the functions here rely on headerHeight directly or indirectly through refs that are updated in useEffect\n    /** Animated */\n    const bounceToPosition = (toValue = 0) => {\n        const threshold = isOpen ? openHeight.current - closeThreshold : closedHeight + openThreshold;\n        let _isOpen = _height.current >= threshold;\n        const newValue = _isOpen ? openHeight.current : closedHeight;\n        deltaY.setValue(_height.current); // set the start position for the animated value\n        _height.current = toValue || newValue;\n        _isOpen = _height.current >= threshold; // re-check after _height.current was set\n        resetWeekCalendarOpacity(_isOpen);\n        Animated.spring(deltaY, {\n            toValue: _height.current,\n            speed: SPEED,\n            bounciness: BOUNCINESS,\n            useNativeDriver: false\n        }).start(() => {\n            onCalendarToggled?.(_isOpen);\n            setPosition(() => _height.current === closedHeight ? Positions.CLOSED : Positions.OPEN);\n        });\n        toggleAnimatedHeader(_isOpen);\n    };\n    const resetWeekCalendarOpacity = async (isOpen) => {\n        _weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n        updateNativeStyles();\n    };\n    const toggleAnimatedHeader = (isOpen) => {\n        headerDeltaY.current.setValue(Number(_headerStyles.style.top)); // set the start position for the animated value\n        if (!horizontal) {\n            Animated.spring(headerDeltaY.current, {\n                toValue: isOpen ? -headerHeight : 0,\n                speed: SPEED / 10,\n                bounciness: 1,\n                useNativeDriver: false\n            }).start();\n        }\n    };\n    const closeCalendar = useCallback(() => {\n        setTimeout(() => {\n            // to allows setDate to be completed\n            if (isOpen) {\n                bounceToPosition(closedHeight);\n            }\n        }, 0);\n    }, [isOpen, closedHeight]);\n    const toggleCalendarPosition = useCallback(() => {\n        bounceToPosition(isOpen ? closedHeight : openHeight.current);\n        return !isOpen;\n    }, [isOpen, bounceToPosition, closedHeight]);\n    useImperativeHandle(ref, () => ({\n        toggleCalendarPosition\n    }), [toggleCalendarPosition]);\n    /** Events */\n    const _onPressArrowLeft = useCallback((method, month) => {\n        onPressArrowLeft?.(method, month);\n        scrollPage(false, isOpen ? UpdateSources.ARROW_PRESS : UpdateSources.WEEK_ARROW_PRESS);\n    }, [onPressArrowLeft, scrollPage]);\n    const _onPressArrowRight = useCallback((method, month) => {\n        onPressArrowRight?.(method, month);\n        scrollPage(true, isOpen ? UpdateSources.ARROW_PRESS : UpdateSources.WEEK_ARROW_PRESS);\n    }, [onPressArrowRight, scrollPage]);\n    const _onDayPress = useCallback((value) => {\n        if (numberOfDaysCondition) {\n            setDate?.(value.dateString, UpdateSources.DAY_PRESS);\n        }\n        if (closeOnDayPress && !disablePan) {\n            closeCalendar();\n        }\n        onDayPress?.(value);\n    }, [onDayPress, closeOnDayPress, closeCalendar, numberOfDaysCondition]);\n    const onVisibleMonthsChange = useCallback(throttle((value) => {\n        const newDate = first(value);\n        if (newDate) {\n            const month = newDate.month;\n            if (month && visibleMonth.current !== month) {\n                visibleMonth.current = month;\n                const year = newDate.year;\n                if (year) {\n                    visibleYear.current = year;\n                }\n                // for horizontal scroll\n                if (visibleMonth.current !== getMonth(date)) {\n                    const next = isLaterDate(newDate, date);\n                    scrollPage(next);\n                }\n                // updating openHeight\n                setTimeout(() => {\n                    // to wait for setDate() call in horizontal scroll (scrollPage())\n                    const _numberOfWeeks = getNumberOfWeeksInMonth(newDate.dateString);\n                    if (_numberOfWeeks !== numberOfWeeks.current) {\n                        numberOfWeeks.current = _numberOfWeeks;\n                        openHeight.current = getOpenHeight();\n                        if (isOpen) {\n                            bounceToPosition(openHeight.current);\n                        }\n                    }\n                }, 0);\n            }\n        }\n    }, 100, { trailing: true, leading: false }), [date, scrollPage]);\n    /** Renders */\n    const _renderArrow = useCallback((direction) => {\n        if (isFunction(renderArrow)) {\n            return renderArrow(direction);\n        }\n        return (<Image source={direction === 'right' ? rightArrowImageSource : leftArrowImageSource} style={style.current.arrowImage} testID={`${testID}.${direction}Arrow`}/>);\n    }, [renderArrow, rightArrowImageSource, leftArrowImageSource, testID]);\n    const renderWeekDaysNames = () => {\n        return (<View style={weekDaysStyle}>\n        <WeekDaysNames firstDay={firstDay} style={style.current.dayHeader}/>\n      </View>);\n    };\n    const renderAnimatedHeader = () => {\n        const monthYear = new XDate(date)?.toString('MMMM yyyy');\n        return (<Animated.View ref={header} style={animatedHeaderStyle} pointerEvents={'none'}>\n        <Text allowFontScaling={false} style={style.current.headerTitle}>\n          {monthYear}\n        </Text>\n        {renderWeekDaysNames()}\n      </Animated.View>);\n    };\n    const renderKnob = () => {\n        return (<View style={style.current.knobContainer} pointerEvents={'box-none'}>\n        <TouchableOpacity style={style.current.knob} testID={`${testID}.knob`} onPress={toggleCalendarPosition} hitSlop={knobHitSlop}/>\n      </View>);\n    };\n    const renderWeekCalendar = () => {\n        const WeekComponent = disableWeekScroll ? Week : WeekCalendar;\n        return (<Animated.View ref={weekCalendarWrapper} style={weekCalendarStyle} pointerEvents={isOpen ? 'none' : 'auto'}>\n        <WeekComponent testID={`${testID}.weekCalendar`} firstDay={firstDay} {...others} allowShadow={disableWeekScroll ? undefined : false} current={disableWeekScroll ? date : undefined} theme={themeObject} style={calendarStyle} hideDayNames={true} onDayPress={_onDayPress} accessibilityElementsHidden // iOS\n         importantForAccessibility={'no-hide-descendants'} // Android\n        />\n      </Animated.View>);\n    };\n    const renderCalendarList = () => {\n        return (<CalendarList testID={`${testID}.calendarList`} horizontal={horizontal} firstDay={firstDay} calendarStyle={calendarStyle} onHeaderLayout={onHeaderLayout} {...others} current={date} theme={themeObject} ref={calendarList} onDayPress={_onDayPress} onVisibleMonthsChange={onVisibleMonthsChange} pagingEnabled scrollEnabled={isOpen} hideArrows={shouldHideArrows} onPressArrowLeft={_onPressArrowLeft} onPressArrowRight={_onPressArrowRight} hideExtraDays={!horizontal && isOpen} renderArrow={_renderArrow} staticHeader numberOfDays={numberOfDays} headerStyle={_headerStyle} timelineLeftInset={timelineLeftInset} context={_context}/>);\n    };\n    return (<View testID={testID} style={containerStyle}>\n      {screenReaderEnabled ? (<Calendar testID={`${testID}.calendarAccessible`} {...others} theme={themeObject} onHeaderLayout={onHeaderLayout} onDayPress={_onDayPress} hideExtraDays renderArrow={_renderArrow}/>) : (<Animated.View testID={`${testID}.expandableContainer`} ref={wrapper} style={wrapperStyle} {...panResponder.panHandlers}>\n          {renderCalendarList()}\n          {renderWeekCalendar()}\n          {!hideKnob && renderKnob()}\n          {!horizontal && renderAnimatedHeader()}\n        </Animated.View>)}\n    </View>);\n});\nexport default Object.assign(ExpandableCalendar, {\n    displayName: 'ExpandableCalendar',\n    positions: Positions,\n    navigationTypes: CalendarNavigationTypes,\n    defaultProps: {\n        horizontal: true,\n        initialPosition: Positions.CLOSED,\n        firstDay: 0,\n        leftArrowImageSource: LEFT_ARROW,\n        rightArrowImageSource: RIGHT_ARROW,\n        allowShadow: true,\n        openThreshold: PAN_GESTURE_THRESHOLD,\n        closeThreshold: PAN_GESTURE_THRESHOLD,\n        closeOnDayPress: true\n    }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}