{"ast":null,"code":"import range from'lodash/range';import times from'lodash/times';import React,{useCallback,useMemo,useRef}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import constants from'../commons/constants';import{buildTimeString,calcTimeByPosition,calcDateByPosition}from'./helpers/presenter';import{buildUnavailableHoursBlocks,HOUR_BLOCK_HEIGHT}from'./Packer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const dimensionWidth=constants.screenWidth;const EVENT_DIFF=20;const TimelineHours=props=>{const{format24h,start=0,end=24,date,unavailableHours,unavailableHoursColor,styles,onBackgroundLongPress,onBackgroundLongPressOut,width,numberOfDays=1,timelineLeftInset=0,testID}=props;const lastLongPressEventTime=useRef();const offset=HOUR_BLOCK_HEIGHT;const unavailableHoursBlocks=buildUnavailableHoursBlocks(unavailableHours,{dayStart:start,dayEnd:end});const hours=useMemo(()=>{return range(start,end+1).map(i=>{let timeText;if(i===start){timeText='';}else if(i<12){timeText=!format24h?`${i} AM`:`${i}:00`;}else if(i===12){timeText=!format24h?`${i} PM`:`${i}:00`;}else if(i===24){timeText=!format24h?'12 AM':'23:59';}else{timeText=!format24h?`${i-12} PM`:`${i}:00`;}return{timeText,time:i};});},[start,end,format24h]);const handleBackgroundPress=useCallback(event=>{const yPosition=event.nativeEvent.locationY;const xPosition=event.nativeEvent.locationX;const{hour,minutes}=calcTimeByPosition(yPosition,HOUR_BLOCK_HEIGHT);const dateByPosition=calcDateByPosition(xPosition,timelineLeftInset,numberOfDays,date);lastLongPressEventTime.current={hour,minutes,date:dateByPosition};const timeString=buildTimeString(hour,minutes,dateByPosition);onBackgroundLongPress?.(timeString,lastLongPressEventTime.current);},[onBackgroundLongPress,date]);const handlePressOut=useCallback(()=>{if(lastLongPressEventTime.current){const{hour,minutes,date}=lastLongPressEventTime.current;const timeString=buildTimeString(hour,minutes,date);onBackgroundLongPressOut?.(timeString,lastLongPressEventTime.current);lastLongPressEventTime.current=undefined;}},[onBackgroundLongPressOut,date]);return _jsxs(_Fragment,{children:[_jsx(TouchableWithoutFeedback,{onLongPress:handleBackgroundPress,onPressOut:handlePressOut,children:_jsx(View,{style:StyleSheet.absoluteFillObject})}),unavailableHoursBlocks.map((block,index)=>_jsx(View,{style:[styles.unavailableHoursBlock,block,unavailableHoursColor?{backgroundColor:unavailableHoursColor}:undefined,{left:timelineLeftInset}]},index)),hours.map(({timeText,time},index)=>{return _jsxs(React.Fragment,{children:[_jsx(Text,{style:[styles.timeLabel,{top:offset*index-6,width:timelineLeftInset-16}],children:timeText},`timeLabel${time}`),time===start?null:_jsx(View,{testID:`${testID}.${time}.line`,style:[styles.line,{top:offset*index,width:dimensionWidth-EVENT_DIFF,left:timelineLeftInset-16}]},`line${time}`),_jsx(View,{testID:`${testID}.${time}.lineHalf`,style:[styles.line,{top:offset*(index+0.5),width:dimensionWidth-EVENT_DIFF,left:timelineLeftInset-16}]},`lineHalf${time}`)]},time);}),times(numberOfDays,index=>_jsx(View,{style:[styles.verticalLine,{right:(index+1)*width/numberOfDays}]},index))]});};export default React.memo(TimelineHours);","map":{"version":3,"names":["range","times","React","useCallback","useMemo","useRef","View","Text","TouchableWithoutFeedback","StyleSheet","constants","buildTimeString","calcTimeByPosition","calcDateByPosition","buildUnavailableHoursBlocks","HOUR_BLOCK_HEIGHT","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","dimensionWidth","screenWidth","EVENT_DIFF","TimelineHours","props","format24h","start","end","date","unavailableHours","unavailableHoursColor","styles","onBackgroundLongPress","onBackgroundLongPressOut","width","numberOfDays","timelineLeftInset","testID","lastLongPressEventTime","offset","unavailableHoursBlocks","dayStart","dayEnd","hours","map","i","timeText","time","handleBackgroundPress","event","yPosition","nativeEvent","locationY","xPosition","locationX","hour","minutes","dateByPosition","current","timeString","handlePressOut","undefined","children","onLongPress","onPressOut","style","absoluteFillObject","block","index","unavailableHoursBlock","backgroundColor","left","timeLabel","top","line","verticalLine","right","memo"],"sources":["C:/Users/chaud/radha-counter/node_modules/react-native-calendars/src/timeline/TimelineHours.js"],"sourcesContent":["import range from 'lodash/range';\nimport times from 'lodash/times';\nimport React, { useCallback, useMemo, useRef } from 'react';\nimport { View, Text, TouchableWithoutFeedback, StyleSheet } from 'react-native';\nimport constants from '../commons/constants';\nimport { buildTimeString, calcTimeByPosition, calcDateByPosition } from './helpers/presenter';\nimport { buildUnavailableHoursBlocks, HOUR_BLOCK_HEIGHT } from './Packer';\nconst dimensionWidth = constants.screenWidth;\nconst EVENT_DIFF = 20;\nconst TimelineHours = (props) => {\n    const { format24h, start = 0, end = 24, date, unavailableHours, unavailableHoursColor, styles, onBackgroundLongPress, onBackgroundLongPressOut, width, numberOfDays = 1, timelineLeftInset = 0, testID } = props;\n    const lastLongPressEventTime = useRef();\n    // const offset = this.calendarHeight / (end - start);\n    const offset = HOUR_BLOCK_HEIGHT;\n    const unavailableHoursBlocks = buildUnavailableHoursBlocks(unavailableHours, { dayStart: start, dayEnd: end });\n    const hours = useMemo(() => {\n        return range(start, end + 1).map(i => {\n            let timeText;\n            if (i === start) {\n                timeText = '';\n            }\n            else if (i < 12) {\n                timeText = !format24h ? `${i} AM` : `${i}:00`;\n            }\n            else if (i === 12) {\n                timeText = !format24h ? `${i} PM` : `${i}:00`;\n            }\n            else if (i === 24) {\n                timeText = !format24h ? '12 AM' : '23:59';\n            }\n            else {\n                timeText = !format24h ? `${i - 12} PM` : `${i}:00`;\n            }\n            return { timeText, time: i };\n        });\n    }, [start, end, format24h]);\n    const handleBackgroundPress = useCallback(event => {\n        const yPosition = event.nativeEvent.locationY;\n        const xPosition = event.nativeEvent.locationX;\n        const { hour, minutes } = calcTimeByPosition(yPosition, HOUR_BLOCK_HEIGHT);\n        const dateByPosition = calcDateByPosition(xPosition, timelineLeftInset, numberOfDays, date);\n        lastLongPressEventTime.current = { hour, minutes, date: dateByPosition };\n        const timeString = buildTimeString(hour, minutes, dateByPosition);\n        onBackgroundLongPress?.(timeString, lastLongPressEventTime.current);\n    }, [onBackgroundLongPress, date]);\n    const handlePressOut = useCallback(() => {\n        if (lastLongPressEventTime.current) {\n            const { hour, minutes, date } = lastLongPressEventTime.current;\n            const timeString = buildTimeString(hour, minutes, date);\n            onBackgroundLongPressOut?.(timeString, lastLongPressEventTime.current);\n            lastLongPressEventTime.current = undefined;\n        }\n    }, [onBackgroundLongPressOut, date]);\n    return (<>\n      <TouchableWithoutFeedback onLongPress={handleBackgroundPress} onPressOut={handlePressOut}>\n        <View style={StyleSheet.absoluteFillObject}/>\n      </TouchableWithoutFeedback>\n      {unavailableHoursBlocks.map((block, index) => (<View key={index} style={[\n                styles.unavailableHoursBlock,\n                block,\n                unavailableHoursColor ? { backgroundColor: unavailableHoursColor } : undefined,\n                { left: timelineLeftInset }\n            ]}/>))}\n\n      {hours.map(({ timeText, time }, index) => {\n            return (<React.Fragment key={time}>\n            <Text key={`timeLabel${time}`} style={[styles.timeLabel, { top: offset * index - 6, width: timelineLeftInset - 16 }]}>\n              {timeText}\n            </Text>\n            {time === start ? null : (<View key={`line${time}`} testID={`${testID}.${time}.line`} style={[styles.line, { top: offset * index, width: dimensionWidth - EVENT_DIFF, left: timelineLeftInset - 16 }]}/>)}\n            {<View key={`lineHalf${time}`} testID={`${testID}.${time}.lineHalf`} style={[styles.line, { top: offset * (index + 0.5), width: dimensionWidth - EVENT_DIFF, left: timelineLeftInset - 16 }]}/>}\n          </React.Fragment>);\n        })}\n      {times(numberOfDays, (index) => <View key={index} style={[styles.verticalLine, { right: (index + 1) * width / numberOfDays }]}/>)}\n    </>);\n};\nexport default React.memo(TimelineHours);\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}